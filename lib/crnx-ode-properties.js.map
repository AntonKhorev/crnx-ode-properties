{"version":3,"sources":["crnx-ode-properties.js","node_modules/browser-pack/_prelude.js","src/data.js","src/main.js","src/ordered-class-subgraph.js","src/thead-layout.js","src/thead-layout/arc-layers.js","src/thead-layout/cell-layers.js","src/thead-layout/node-layers.js","src/tr-layout.js","src/unordered-class-subgraph.js"],"names":["babelHelpers","typeof","obj","Symbol","constructor","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","classCallCheck","instance","TypeError","possibleConstructorReturn","self","call","ReferenceError","inherits","subClass","superClass","defaults","keys","getOwnPropertyNames","value","getOwnPropertyDescriptor","undefined","create","taggedTemplateLiteralLoose","strings","raw","e","t","n","r","s","o","u","a","require","f","Error","code","l","exports",1,"module","dd","b","dydt","ddt","int","fx","x","sint","eqsol","name","traits","classes","sn","parents","htmlName","importance","equation","vectorEquation","testSolutionMethod","s2","s2_partlyDecoupled","generalSolutionMethod","s2_autonomous","sn_sir","equationNotes","phaseSolutionMethod","equilibriumSolutionMethod","on","on_linearHomogeneousConstant","characteristicEquation","o1","o1_separable","o1_autonomous","isoclineProperty","shiftSolutionRelation","o1_bernoulli","o1_linear","associatedHomogeneousEquation","solutionSpaceBasis","homogeneitySolutionRelation","additivitySolutionRelation","twoLinearCombinationSolutionRelation","nLinearCombinationSolutionRelation","twoAffineCombinationSolutionRelation","nAffineCombinationSolutionRelation","associatedSolutionRelation","o1_linearHomogeneous","o1_separableInT","o1_expGrowth","o1_logisticGrowth","o2","orderReduction","o2_autonomous","o2_linearHomogeneousConstant","o2_vanDerPol","o2_unforcedDuffing","o2_harmonicOscillator","o2_simpleHarmonicOscillator",2,"UnorderedClassSubgraph","OrderedClassSubgraph","TheadLayout","TrLayout","data","i18n","id","trait.entity","trait.associatedHomogeneousEquation","trait.characteristicEquation","trait.property","trait.isoclineProperty","trait.solutionRelation","trait.shiftSolutionRelation","trait.linearitySolutionRelation","trait.solutionSpaceBasis","trait.homogeneitySolutionRelation","trait.additivitySolutionRelation","trait.twoLinearCombinationSolutionRelation","trait.nLinearCombinationSolutionRelation","trait.twoAffineCombinationSolutionRelation","trait.nAffineCombinationSolutionRelation","trait.associatedSolutionRelation","trait.transform","trait.orderReduction","trait.solutionMethod","trait.generalSolutionMethod","trait.phaseSolutionMethod","trait.equilibriumSolutionMethod","trait.testSolutionMethod","$","each","$container","this","selectedNodes","traitAlignmentLevel","maxTraitAlignmentLevel","getHtmlName","unorderedClassSubgraph","theadLayout","orderedClassSubgraph","trLayout","recomputeLayouts","columns","breadthWalk","graph","result","visited","queue","shift","push","apply","sort","writeButton","text","tip","$button","attr","writeTraitItemSection","type","contents","$section","append","map","line","$b1","$b2","prepend","$bs","add","click","hasClass","removeClass","html","addClass","writeTraitItem","forClassId","fromClassId","traitId","item","sections","forEach","section","unshift","writeTraitCell","traitCell","$cell","classTraitId","classId","writeTraitRow","traitSubtree","traitCells","getSubtreeLayout","writeTable","visibleAncestors","computeVisibleAncestors","aid","naid","visibleParents","_id","$equations","$attachedMenu","$attachedToButton","attachedDirection","attachTimeoutId","deleteNode","addNode","setCellClasses","cell","dir","writeTheadButton","nodes","keyCodeEnter","keyCodeSpace","keyCodeUp","keyCodeDown","removeAttachedMenu","remove","clearTimeout","startAttachingMenu","keydown","ev","keyCode","$toFocus","prev","focus","_$toFocus","next","setTimeout","mh","outerHeight","mo","offset","bh","bo","top","insertBefore","left","is","children","last","first","writeTheadCell","node","ancestors","allParents","reverse","descendants","allChildren","writeThead","$thead","nodeLayers","arcLayers","row","writeTfoot","writeTraitRows","output","rec","depth","traitChildren","traitChild","writeTraitAlignmentControls","_loop","prop","writeEquation","hover","empty","$td","notes","noteText","columnParents","pid","$li","note","MathJax","Hub","Queue","3","4","8","9","OrderedClassGraph","unorderedClassGraph","orderedClasses","ranks","id1","id2","makeNodeLabelLayers","makeArcLocationLayers","makeLayoutLayers","_ref","orderedVisibleDepthNodes","visibleDepthNodes","arcLocationLayers","concat","5","6","7","depthList","merge","c","j","arcRows","xs","arcs","parentXs","parentNode","_j","String","splice","sum","arr","reduce","times","fn","Array","head","nodeLabelLayers","layoutWidth","makeBlankRow","nodeLayoutLayers","arcLayoutLayers","drawArcUp","k","bt","drawArcDown","_i","parentLocations","childLocations","pi","ci","rl","rt","bl","nextParentOrder","parentOrder","sortedParents","node0","node1","p0","p1","cmpLen","cmpOrd","classSubgraph","classData","classColumns","_this","hasCloseSection","trait","some","hasCompareSection","ancestorsHaveIntegratedTrait","walk","getIntegratedClassesForTrait","vpid","integratedClassIds","integratedAncestors","cells","walkTraits","keepTraits","filter","UnorderedClassGraph","visibleClasses","invertGraph","igraph","ancestorDistances","addAncestorDistance","fromNode","toNode","distance","oldDistance","newDistance","Math","max","traverseNode","ancestorNode","parentDistance","visibleChildren","cid","masked","maskAncestors","integrateAncestors","_pid"],"mappings":"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","file":"crnx-ode-properties.js","sourcesContent":["(function () {\n    var babelHelpers = {\n        typeof: function (obj) {\n            return obj && typeof Symbol !== 'undefined' && obj.constructor === Symbol ? 'symbol' : typeof obj;\n        },\n        createClass: function () {\n            function defineProperties(target, props) {\n                for (var i = 0; i < props.length; i++) {\n                    var descriptor = props[i];\n                    descriptor.enumerable = descriptor.enumerable || false;\n                    descriptor.configurable = true;\n                    if ('value' in descriptor)\n                        descriptor.writable = true;\n                    Object.defineProperty(target, descriptor.key, descriptor);\n                }\n            }\n            return function (Constructor, protoProps, staticProps) {\n                if (protoProps)\n                    defineProperties(Constructor.prototype, protoProps);\n                if (staticProps)\n                    defineProperties(Constructor, staticProps);\n                return Constructor;\n            };\n        }(),\n        classCallCheck: function (instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError('Cannot call a class as a function');\n            }\n        },\n        possibleConstructorReturn: function (self, call) {\n            if (!self) {\n                throw new ReferenceError('this hasn\\'t been initialised - super() hasn\\'t been called');\n            }\n            return call && (typeof call === 'object' || typeof call === 'function') ? call : self;\n        },\n        inherits: function (subClass, superClass) {\n            function defaults(obj, defaults) {\n                var keys = Object.getOwnPropertyNames(defaults);\n                for (var i = 0; i < keys.length; i++) {\n                    var key = keys[i];\n                    var value = Object.getOwnPropertyDescriptor(defaults, key);\n                    if (value && value.configurable && obj[key] === undefined) {\n                        Object.defineProperty(obj, key, value);\n                    }\n                }\n                return obj;\n            }\n            ;\n            if (typeof superClass !== 'function' && superClass !== null) {\n                throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n            }\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n                constructor: {\n                    value: subClass,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            if (superClass)\n                defaults(subClass, superClass);\n        },\n        taggedTemplateLiteralLoose: function (strings, raw) {\n            strings.raw = raw;\n            return strings;\n        }\n    };\n    (function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof require == 'function' && require;\n                    if (!u && a)\n                        return a(o, !0);\n                    if (i)\n                        return i(o, !0);\n                    var f = new Error('Cannot find module \\'' + o + '\\'');\n                    throw f.code = 'MODULE_NOT_FOUND', f;\n                }\n                var l = n[o] = { exports: {} };\n                t[o][0].call(l.exports, function (e) {\n                    var n = t[o][1][e];\n                    return s(n ? n : e);\n                }, l, l.exports, e, t, n, r);\n            }\n            return n[o].exports;\n        }\n        var i = typeof require == 'function' && require;\n        for (var o = 0; o < r.length; o++)\n            s(r[o]);\n        return s;\n    }({\n        1: [\n            function (require, module, exports) {\n                'use strict';\n                var dd = function (a, b, n) {\n                    if (b === undefined)\n                        b = 't';\n                    if (n === undefined)\n                        n = 1;\n                    if (n == 1) {\n                        return '\\\\frac{\\\\mathrm{d}' + a + '}{\\\\mathrm{d}' + b + '}';\n                    } else {\n                        return '\\\\frac{\\\\mathrm{d}^{' + n + '}' + a + '}{\\\\mathrm{d}' + b + '^{' + n + '}}';\n                    }\n                };\n                var dydt = dd('y');\n                var ddt = dd('');\n                var int = function (fx, x) {\n                    return '\\\\int\\\\!' + fx + '\\\\,\\\\mathrm{d}' + x;\n                };\n                var sint = function (fx, x) {\n                    return '\\\\int\\\\!' + fx + '\\\\mathrm{d}' + x;\n                };\n                var eqsol = function (name) {\n                    return '<a href=\\'https://en.wikipedia.org/wiki/Equilibrium_point\\'>' + name + '</a>';\n                };\n                var traits = [\n                    [\n                        'entity',\n                        [\n                            ['associatedHomogeneousEquation'],\n                            ['characteristicEquation']\n                        ]\n                    ],\n                    [\n                        'property',\n                        [\n                            ['isoclineProperty'],\n                            [\n                                'solutionRelation',\n                                [\n                                    ['shiftSolutionRelation'],\n                                    [\n                                        'linearitySolutionRelation',\n                                        [\n                                            // linear and affine properties of solutions\n                                            ['solutionSpaceBasis'],\n                                            ['homogeneitySolutionRelation'],\n                                            ['additivitySolutionRelation'],\n                                            ['twoLinearCombinationSolutionRelation'],\n                                            ['nLinearCombinationSolutionRelation'],\n                                            ['twoAffineCombinationSolutionRelation'],\n                                            ['nAffineCombinationSolutionRelation'],\n                                            ['associatedSolutionRelation']\n                                        ]\n                                    ]\n                                ]\n                            ]\n                        ]\n                    ],\n                    [\n                        'transform',\n                        [['orderReduction']]\n                    ],\n                    [\n                        'solutionMethod',\n                        [\n                            ['generalSolutionMethod'],\n                            ['phaseSolutionMethod'],\n                            ['equilibriumSolutionMethod'],\n                            ['testSolutionMethod']\n                        ]\n                    ]\n                ];\n                // trait entries:\n                //\ttitle = redefine title; has to be first\n                //\tmain\n                //\tdetail\n                //\tnote\n                //\tform = have to present the equation in which this trait was defined; put after title\n                //\tclose = children don't need to inherit this trait; display it only if parents have it displayed; put at end\n                //\tcompare = show only if other classes have this property without compare entry; put at end\n                var classes = {\n                    sn: {\n                        parents: {},\n                        name: 'system of n first-order',\n                        htmlName: 'system of <em>n</em> first-order',\n                        importance: 3,\n                        equation: '\\\\left\\\\{ \\\\begin{array}{c}' + dd('y_1') + ' = f_1(t,y_1,\\u2026,y_n) \\\\\\\\' + '\\\\vdots \\\\\\\\' + dd('y_n') + ' = f_n(t,y_1,\\u2026,y_n)' + '\\\\end{array} \\\\right.',\n                        vectorEquation: dd('Y') + ' = F(t,Y)',\n                        traits: {\n                            testSolutionMethod: [[\n                                    'main',\n                                    ['Can test if \\\\( Y_p \\\\) is a solution by substituting \\\\( Y = Y_p \\\\) into the equation.']\n                                ]]\n                        }\n                    },\n                    s2: {\n                        parents: { sn: true },\n                        name: 'system of 2 first-order',\n                        importance: 3,\n                        equation: '\\\\left\\\\{ \\\\begin{aligned}' + dd('y') + ' &= f(t,y,v) \\\\\\\\' + dd('v') + ' &= g(t,y,v)' + '\\\\end{aligned} \\\\right.',\n                        vectorEquation: dd('Y') + ' = F(t,Y)',\n                        traits: {}\n                    },\n                    s2_partlyDecoupled: {\n                        parents: { s2: true },\n                        name: 'partly decoupled system of 2 first-order',\n                        importance: 3,\n                        equation: '\\\\left\\\\{ \\\\begin{aligned}' + dd('y') + ' &= f(t,y,v) \\\\\\\\' + dd('v') + ' &= g(t,v)' + '\\\\end{aligned} \\\\right.',\n                        traits: {\n                            generalSolutionMethod: [\n                                ['form'],\n                                [\n                                    'main',\n                                    [\n                                        'Solve \\\\(' + dd('v') + ' = g(t,v) \\\\).',\n                                        'Substitute \\\\( v \\\\) into \\\\( ' + dd('y') + ' = f(t,y,v) \\\\).'\n                                    ]\n                                ]\n                            ]\n                        }\n                    },\n                    s2_autonomous: {\n                        parents: { s2: true },\n                        name: 'system of 2 first-order autonomous',\n                        importance: 3,\n                        equation: '\\\\left\\\\{ \\\\begin{aligned}' + dd('y') + ' &= f(y,v) \\\\\\\\' + dd('v') + ' &= g(y,v)' + '\\\\end{aligned} \\\\right.',\n                        vectorEquation: dd('Y') + ' = F(Y)',\n                        traits: {}\n                    },\n                    sn_sir: {\n                        parents: { sn: true },\n                        name: 'SIR model',\n                        htmlName: '<a href=\\'https://en.wikipedia.org/w/index.php?title=SIR_model\\'>SIR</a> model',\n                        importance: 3,\n                        equation: '\\\\left\\\\{ \\\\begin{aligned}' + dd('S') + ' &= -\\\\alpha S I \\\\\\\\' + dd('I') + ' &= \\\\alpha S I - \\\\beta I \\\\\\\\ ' + dd('R') + ' &= \\\\beta I' + '\\\\end{aligned} \\\\right.',\n                        equationNotes: [\n                            '\\\\( S = \\\\) number susceptible',\n                            '\\\\( I = \\\\) number infectious',\n                            '\\\\( R = \\\\) number recovered (immune)',\n                            '\\\\( \\\\alpha = \\\\) contact rate',\n                            '\\\\( \\\\beta = \\\\) recovery rate',\n                            'all quantities are nonnegative'\n                        ],\n                        traits: {\n                            phaseSolutionMethod: [\n                                ['form'],\n                                [\n                                    'main',\n                                    [\n                                        'threshold value \\\\( \\\\rho = \\\\frac\\\\beta\\\\alpha \\\\):',\n                                        '\\\\( I \\\\) increases when \\\\( S &gt; \\\\rho \\\\)',\n                                        '\\\\( S \\\\) decreases',\n                                        '\\\\( I \\\\) attains its maximum when \\\\( S = \\\\rho \\\\)'\n                                    ]\n                                ],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ ' + dd('S') + ' + ' + dd('I') + ' + ' + dd('R') + ' = 0 \\\\]',\n                                        'total population \\\\( N \\\\) is constant',\n                                        '\\\\[ S + I + R = N \\\\]',\n                                        'eliminate \\\\( R \\\\)',\n                                        '\\\\[ \\\\left\\\\{ \\\\begin{aligned}' + dd('S') + ' &= -\\\\alpha S I \\\\\\\\' + dd('I') + ' &= \\\\alpha S I - \\\\beta I \\\\\\\\ ' + '\\\\end{aligned} \\\\right. \\\\]',\n                                        '\\\\[ ' + dd('I', 'S') + ' = \\\\frac{\\\\alpha S I - \\\\beta I}{-\\\\alpha S I} = -1 + \\\\frac{\\\\rho}{S} \\\\]',\n                                        'integrate by \\\\( S \\\\)',\n                                        '\\\\[ I = -S + \\\\rho \\\\ln S + C \\\\]'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    [\n                                        'conserved quantities:',\n                                        '\\\\[ \\\\begin{multline}' + 'S(t) + I(t) + R(t) = \\\\\\\\' + '= S(0) + I(0) + R(0)' + '\\\\end{multline} \\\\]',\n                                        '\\\\[ \\\\begin{multline}' + 'I(t) + S(t) - \\\\rho \\\\ln S(t) = \\\\\\\\' + '= I(0) + S(0) - \\\\rho \\\\ln S(0)' + '\\\\end{multline} \\\\]',\n                                        'maximum of \\\\( I \\\\):',\n                                        '\\\\[ \\\\begin{multline}' + 'I_{max} + \\\\rho - \\\\rho \\\\ln \\\\rho = \\\\\\\\' + '= I(0) + S(0) - \\\\rho \\\\ln S(0)' + '\\\\end{multline} \\\\]'\n                                    ]\n                                ]\n                            ],\n                            equilibriumSolutionMethod: [\n                                ['form'],\n                                [\n                                    'main',\n                                    ['\\\\[ I = 0 \\\\]']\n                                ]\n                            ]\n                        }\n                    },\n                    on: {\n                        parents: {},\n                        name: 'nth-order',\n                        htmlName: '<em>n</em>th-order',\n                        importance: 2,\n                        equation: dd('y', 't', 'n') + ' = f(t,y,' + dydt + ',...,' + dd('y', 't', 'n-1') + ')',\n                        traits: {\n                            testSolutionMethod: [[\n                                    'main',\n                                    ['Can test if \\\\( y_p \\\\) is a solution by substituting \\\\( y = y_p \\\\) into the equation.']\n                                ]]\n                        }\n                    },\n                    on_linearHomogeneousConstant: {\n                        parents: { on: true },\n                        name: 'nth-order linear homogeneous with constant coefficients',\n                        htmlName: '<em>n</em>th-order <a href=\\'https://en.wikipedia.org/wiki/Linear_differential_equation#Homogeneous_equations_with_constant_coefficients\\'>linear homogeneous with constant coefficients</a>',\n                        importance: 2,\n                        //equation: `y^{(n)} = - \\\\tfrac{a_{n-1}}{a_n} y^{(n-1)} - \\\\cdots - \\\\tfrac{a_1}{a_n} y' - \\\\tfrac{a_0}{a_n} y`,\n                        equation: dd('y', 't', 'n') + ' = - \\\\sum_{i=0}^{n-1} \\\\frac{a_i}{a_n} ' + dd('y', 't', 'i'),\n                        equationNotes: ['usually written as \\\\( \\\\sum_{i=0}^n a_i ' + dd('y', 't', 'i') + ' = 0 \\\\)'],\n                        traits: {\n                            characteristicEquation: [\n                                ['form'],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ \\\\sum_{i=0}^n a_i ' + dd('y', 't', 'i') + ' = 0 \\\\]',\n                                        'substitute \\\\( y = e^{\\\\lambda t} \\\\)',\n                                        '\\\\[ \\\\sum_{i=0}^n a_i ' + dd('', 't', 'i') + ' e^{\\\\lambda t} = 0 \\\\]',\n                                        '\\\\[ \\\\sum_{i=0}^n a_i \\\\lambda^i e^{\\\\lambda t} = 0 \\\\]',\n                                        'divide by \\\\( e^{\\\\lambda t} \\\\)'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    ['\\\\[ \\\\sum_{i=0}^n a_i \\\\lambda^i = 0 \\\\]']\n                                ]\n                            ]\n                        }\n                    },\n                    o1: {\n                        parents: {\n                            sn: true,\n                            on: true\n                        },\n                        name: 'first-order',\n                        importance: 0,\n                        equation: dydt + ' = f(t,y)',\n                        traits: {\n                            testSolutionMethod: [// same as in 'on', done to mask 'sn's trait\n                                [\n                                    'main',\n                                    ['Can test if \\\\( y_p \\\\) is a solution by substituting \\\\( y = y_p \\\\) into the equation.']\n                                ]]\n                        }\n                    },\n                    o1_separable: {\n                        parents: { o1: true },\n                        name: 'first-order separable',\n                        htmlName: 'first-order <a href=\\'https://en.wikipedia.org/wiki/Separation_of_variables#Ordinary_differential_equations_.28ODE.29\\'>separable</a>',\n                        importance: 1,\n                        equation: dydt + ' = f_1(t) \\\\cdot f_2(y)',\n                        traits: {\n                            generalSolutionMethod: [\n                                ['form'],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ ' + dydt + ' = f_1(t) \\\\cdot f_2(y) \\\\]',\n                                        '\\\\[ \\\\frac{1}{f_2(y)} \\\\cdot ' + dydt + ' = f_1(t) \\\\]',\n                                        '\\\\[ ' + int('\\\\frac{1}{f_2(y)} ' + dydt, 't') + ' = ' + int('f_1(t)', 't') + ' + C \\\\]'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    ['\\\\[ ' + int('\\\\frac{1}{f_2(y)}', 'y') + ' = ' + int('f_1(t)', 't') + ' + C \\\\]']\n                                ],\n                                [\n                                    'note',\n                                    ['this may or may not include ' + eqsol('equilibrium solutions')]\n                                ]\n                            ],\n                            equilibriumSolutionMethod: [\n                                ['form'],\n                                [\n                                    'main',\n                                    ['solve \\\\( f_2(y) = 0 \\\\) for constant \\\\( y \\\\)']\n                                ]\n                            ]\n                        }\n                    },\n                    //`domain is not necessary \\\\( -\\\\infty &lt; t &lt; +\\\\infty \\\\)`\n                    o1_autonomous: {\n                        parents: { o1_separable: true },\n                        name: 'first-order autonomous',\n                        htmlName: 'first-order <a href=\\'https://en.wikipedia.org/wiki/Autonomous_system_%28mathematics%29\\'>autonomous</a>',\n                        importance: 1,\n                        equation: dydt + ' = f(y)',\n                        traits: {\n                            isoclineProperty: [[\n                                    'main',\n                                    ['isoclines are horizontal']\n                                ]],\n                            shiftSolutionRelation: [[\n                                    'main',\n                                    ['If \\\\( y_p(t) \\\\) is a solution, then \\\\( y_p(t+C) \\\\) is a solution']\n                                ]],\n                            generalSolutionMethod: [\n                                ['form'],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ ' + dydt + ' = f(y) \\\\]',\n                                        '\\\\[ \\\\frac{1}{f(y)} \\\\cdot ' + dydt + ' = 1 \\\\]',\n                                        '\\\\[ ' + int('\\\\frac{1}{f(y)} ' + dydt, 't') + ' = ' + int('1', 't') + ' + C \\\\]'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    ['\\\\[ ' + int('\\\\frac{1}{f(y)}', 'y') + ' = t + C \\\\]']\n                                ],\n                                [\n                                    'note',\n                                    ['this may or may not include ' + eqsol('equilibrium solutions')]\n                                ]\n                            ],\n                            equilibriumSolutionMethod: [\n                                ['form'],\n                                [\n                                    'main',\n                                    ['solve \\\\( f(y) = 0 \\\\) for constant \\\\( y \\\\)']\n                                ]\n                            ]\n                        }\n                    },\n                    //`domain is \\\\( -\\\\infty &lt; t &lt; +\\\\infty \\\\)` // only if f(y) is continuous\n                    o1_bernoulli: {\n                        parents: { o1: true },\n                        name: 'Bernoulli',\n                        htmlName: '<a href=\\'https://en.wikipedia.org/wiki/Bernoulli_differential_equation\\'>Bernoulli</a>',\n                        importance: 2,\n                        equation: dydt + ' = a(t) \\\\cdot y + b(t) \\\\cdot y^n',\n                        equationNotes: [\n                            '\\\\( n \\u2260 1 \\\\)',\n                            'usually it\\'s also defined that additionally \\\\( n \\u2260 0 \\\\), but we ignore this requirement here'\n                        ],\n                        traits: {\n                            generalSolutionMethod: [\n                                ['form'],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ ' + dydt + ' = a(t) \\\\cdot y + b(t) \\\\cdot y^n \\\\]',\n                                        'multiply the equation by \\\\( \\\\frac{1-n}{y^n} \\\\)',\n                                        '\\\\[ \\\\frac{1-n}{y^n} ' + dydt + ' = \\\\cdots \\\\]',\n                                        '\\\\[ \\\\cdots = \\\\frac{(1-n) a(t)}{y^{n-1}} + (1-n) b(t) \\\\]',\n                                        'introduce a new variable',\n                                        '\\\\[ z = \\\\frac{1}{y^{n-1}} \\\\]',\n                                        '\\\\[ ' + dd('z') + ' = ' + dd('z', 'y') + ' ' + dydt + ' = \\\\frac{1-n}{y^n} ' + dydt + ' \\\\]',\n                                        'substitute \\\\( z \\\\) and \\\\( ' + dd('z') + ' \\\\) into the equation',\n                                        '\\\\[ ' + dd('z') + ' = (1-n) a(t) z + (1-n) b(t) \\\\]',\n                                        'solve this equation as a linear equation in \\\\( z \\\\), then return to the original variable \\\\( y \\\\)',\n                                        '\\\\[ \\\\mu(t) z = (1-n) ' + int('\\\\mu(t) b(t)', 't') + ' + C \\\\]'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    [\n                                        '\\\\[ \\\\mu(t) = e^{(n-1)' + sint('a(t)', 't') + '} \\\\]',\n                                        '\\\\[ \\\\frac{\\\\mu(t)}{y^{n-1}} = (1-n) ' + int('\\\\mu(t) b(t)', 't') + ' + C \\\\]'\n                                    ]\n                                ],\n                                [\n                                    'note',\n                                    ['this may or may not include ' + eqsol('equilibrium solutions')]\n                                ]\n                            ],\n                            equilibriumSolutionMethod: [\n                                ['form'],\n                                [\n                                    'main',\n                                    ['if \\\\( n>0 \\\\), there\\'s an equilibrium solution \\\\( y(t) = 0 \\\\)']\n                                ]\n                            ]\n                        }\n                    },\n                    o1_linear: {\n                        parents: { o1_bernoulli: true },\n                        name: 'first-order linear',\n                        htmlName: 'first-order <a href=\\'https://en.wikipedia.org/wiki/Linear_differential_equation\\'>linear</a>',\n                        importance: 1,\n                        equation: dydt + ' = a(t) \\\\cdot y + b(t)',\n                        traits: {\n                            associatedHomogeneousEquation: [\n                                ['form'],\n                                [\n                                    'main',\n                                    ['\\\\( ' + dydt + ' = a(t) \\\\cdot y \\\\)']\n                                ]\n                            ],\n                            solutionSpaceBasis: [[\n                                    'main',\n                                    [\n                                        'If \\\\( y_p \\\\) is a solution',\n                                        'and \\\\( y_h \\\\) is a nonzero solution of the associated homogeneous equation',\n                                        'then \\\\( K y_h + y_p \\\\) is a general solution.'\n                                    ]\n                                ]],\n                            homogeneitySolutionRelation: [\n                                [\n                                    'main',\n                                    [\n                                        'If \\\\( y_0 \\\\) and \\\\( y_1 \\\\) are solutions,',\n                                        'then \\\\( K_1 y_1 + (1 - K_1) y_0 \\\\) is a solution.'\n                                    ]\n                                ],\n                                ['compare']\n                            ],\n                            additivitySolutionRelation: [\n                                [\n                                    'main',\n                                    [\n                                        'If \\\\( y_0 \\\\), \\\\( y_1 \\\\) and \\\\( y_2 \\\\) are solutions,',\n                                        'then \\\\( y_1 + y_2 - y_0 \\\\) is a solution.'\n                                    ]\n                                ],\n                                ['compare']\n                            ],\n                            twoLinearCombinationSolutionRelation: [\n                                [\n                                    'main',\n                                    [\n                                        'If \\\\( y_0 \\\\), \\\\( y_1 \\\\) and \\\\( y_2 \\\\) are solutions,',\n                                        'then \\\\( K_1 y_1 + K_2 y_2 + (1 - K_1 - K_2) y_0 \\\\) is a solution.'\n                                    ]\n                                ],\n                                ['compare']\n                            ],\n                            nLinearCombinationSolutionRelation: [\n                                [\n                                    'main',\n                                    [\n                                        'If \\\\( y_0 \\\\), \\\\( y_1 \\\\), \\\\( y_2 \\\\), ..., \\\\( y_m \\\\) are solutions,',\n                                        'then \\\\( \\\\sum\\\\limits_{i=1}^m K_i y_i + (1 - \\\\sum\\\\limits_{i=1}^m K_i) y_0 \\\\) is a solution.'\n                                    ]\n                                ],\n                                ['compare']\n                            ],\n                            twoAffineCombinationSolutionRelation: [[\n                                    'main',\n                                    [\n                                        'If \\\\( y_1 \\\\), \\\\( y_2 \\\\) are solutions',\n                                        'and \\\\( K_1 + K_2 = 1 \\\\)',\n                                        'then \\\\( K_1 y_1 + K_2 y_2 \\\\) is a solution.'\n                                    ]\n                                ]],\n                            nAffineCombinationSolutionRelation: [[\n                                    'main',\n                                    [\n                                        'If \\\\( y_1 \\\\), \\\\( y_2 \\\\), ..., \\\\( y_m \\\\) are solutions',\n                                        'and \\\\( \\\\sum\\\\limits_{i=1}^m K_i = 1 \\\\)',\n                                        'then \\\\( \\\\sum\\\\limits_{i=1}^m K_i y_i \\\\) is a solution.'\n                                    ]\n                                ]],\n                            associatedSolutionRelation: [[\n                                    'main',\n                                    [\n                                        'If \\\\( y_1 \\\\) and \\\\( y_2 \\\\) are solutions,',\n                                        'then \\\\( y_1 - y_2 \\\\) is a solution of the associated homogeneous equation.'\n                                    ]\n                                ]],\n                            generalSolutionMethod: [\n                                [\n                                    'title',\n                                    ['Solutions found with method of <a href=\\'https://en.wikipedia.org/wiki/Integrating_factor\\'>integrating factors</a>']\n                                ],\n                                ['form'],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ ' + dydt + ' = a(t) \\\\cdot y + b(t) \\\\]',\n                                        'introduce a new function',\n                                        '\\\\[ g(t) = -a(t) \\\\]',\n                                        'rewrite the equation with \\\\( g(t) \\\\)',\n                                        '\\\\[ ' + dydt + ' + g(t) \\\\cdot y = b(t) \\\\]',\n                                        'introduce the integrating factor',\n                                        '\\\\[ \\\\mu(t) = e^{' + sint('g(t)', 't') + '} \\\\]',\n                                        'multiply the equation by \\\\( \\\\mu(t) \\\\)',\n                                        '\\\\[ \\\\mu(t) ' + dydt + ' + \\\\mu(t) g(t) y = \\\\mu(t) b(t) \\\\]',\n                                        '\\\\[ \\\\mu(t) ' + dydt + ' + e^{' + sint('g(t)', 't') + '} g(t) y = \\\\mu(t) b(t) \\\\]',\n                                        '\\\\[ \\\\mu(t) ' + dydt + ' + ' + ddt + '(e^{' + sint('g(t)', 't') + '}) y = \\\\mu(t) b(t) \\\\]',\n                                        '\\\\[ \\\\mu(t) ' + dydt + ' + ' + ddt + '(\\\\mu(t)) y = \\\\mu(t) b(t) \\\\]',\n                                        '\\\\[ ' + ddt + '(\\\\mu(t) y) = \\\\mu(t) b(t) \\\\]',\n                                        'integrate the equation multiplied by \\\\( \\\\mu(t) \\\\)',\n                                        '\\\\[ \\\\mu(t) y = ' + int('\\\\mu(t) b(t)', 't') + ' + C \\\\]'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    [\n                                        '\\\\[ \\\\mu(t) = e^{-' + sint('a(t)', 't') + '} \\\\]',\n                                        '\\\\[ \\\\mu(t) y = ' + int('\\\\mu(t) b(t)', 't') + ' + C \\\\]'\n                                    ]\n                                ]\n                            ],\n                            equilibriumSolutionMethod: [\n                                [\n                                    'note',\n                                    ['Can\\'t find equilibrium solution like in Bernoulli equation because \\\\( n = 0 \\\\).']\n                                ],\n                                ['close']\n                            ]\n                        }\n                    },\n                    o1_linearHomogeneous: {\n                        parents: {\n                            o1_separable: true,\n                            o1_linear: true\n                        },\n                        name: 'first-order linear homogeneous',\n                        htmlName: 'first-order <a href=\\'https://en.wikipedia.org/wiki/Linear_differential_equation\\'>linear</a> <a href=\\'https://en.wikipedia.org/wiki/Homogeneous_differential_equation#Homogeneous_linear_differential_equations\\'>homogeneous</a>',\n                        importance: 1,\n                        equation: dydt + ' = a(t) \\\\cdot y',\n                        traits: {\n                            associatedHomogeneousEquation: [\n                                [\n                                    'note',\n                                    ['The equation is associated with itself.']\n                                ],\n                                ['close']\n                            ],\n                            solutionSpaceBasis: [[\n                                    'main',\n                                    [\n                                        'If \\\\( y_h \\\\) is a nonzero solution,',\n                                        'then \\\\( K y_h \\\\) is a general solution.'\n                                    ]\n                                ]],\n                            homogeneitySolutionRelation: [[\n                                    'main',\n                                    [\n                                        'If \\\\( y_1 \\\\) is a solution,',\n                                        'then \\\\( K_1 y_1 \\\\) is a solution.'\n                                    ]\n                                ]],\n                            additivitySolutionRelation: [[\n                                    'main',\n                                    [\n                                        'If \\\\( y_1 \\\\) and \\\\( y_2 \\\\) are solutions,',\n                                        'then \\\\( y_1 + y_2 \\\\) is a solution.'\n                                    ]\n                                ]],\n                            twoLinearCombinationSolutionRelation: [[\n                                    'main',\n                                    [\n                                        'If \\\\( y_1 \\\\) and \\\\( y_2 \\\\) are solutions,',\n                                        'then \\\\( K_1 y_1 + K_2 y_2 \\\\) is a solution.'\n                                    ]\n                                ]],\n                            nLinearCombinationSolutionRelation: [[\n                                    'main',\n                                    [\n                                        'If \\\\( y_1 \\\\), \\\\( y_2 \\\\), ..., \\\\( y_m \\\\) are solutions,',\n                                        'then \\\\( \\\\sum\\\\limits_{i=1}^m K_i y_i \\\\) is a solution.'\n                                    ]\n                                ]],\n                            twoAffineCombinationSolutionRelation: [\n                                [\n                                    'note',\n                                    ['This is a special case of a linear combination.']\n                                ],\n                                ['close']\n                            ],\n                            nAffineCombinationSolutionRelation: [\n                                [\n                                    'note',\n                                    ['This is a special case of a linear combination.']\n                                ],\n                                ['close']\n                            ],\n                            associatedSolutionRelation: [['close']],\n                            generalSolutionMethod: [\n                                ['form'],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ ' + dydt + ' = a(t) \\\\cdot y \\\\]',\n                                        '\\\\[ \\\\frac{1}{y} \\\\cdot ' + dydt + ' = a(t) \\\\]',\n                                        '\\\\[ ' + int('\\\\frac{1}{y} ' + dydt, 't') + ' = ' + int('a(t)', 't') + ' + C \\\\]',\n                                        '\\\\[ ' + int('\\\\frac{1}{y}', 'y') + ' = ' + int('a(t)', 't') + ' + C \\\\]',\n                                        '\\\\[ \\\\ln|y| = ' + int('a(t)', 't') + ' + C \\\\]'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    ['\\\\[ y = K \\\\cdot e^{' + sint('a(t)', 't') + '} \\\\]']\n                                ],\n                                [\n                                    'note',\n                                    ['includes ' + eqsol('equilibrium solution') + ' when \\\\( K = 0 \\\\)']\n                                ]\n                            ],\n                            equilibriumSolutionMethod: [[\n                                    'main',\n                                    ['\\\\[ y = 0 \\\\]']\n                                ]]\n                        }\n                    },\n                    o1_separableInT: {\n                        parents: {\n                            o1_separable: true,\n                            o1_linear: true\n                        },\n                        name: 'first-order separable in independent variable',\n                        htmlName: 'first-order <a href=\\'https://en.wikipedia.org/wiki/Separation_of_variables#Ordinary_differential_equations_.28ODE.29\\'>separable</a> in \\\\(t\\\\)',\n                        importance: 2,\n                        equation: dydt + ' = f(t)',\n                        traits: {\n                            associatedHomogeneousEquation: [[\n                                    'main',\n                                    ['\\\\( ' + dydt + ' = 0 \\\\)']\n                                ]],\n                            isoclineProperty: [[\n                                    'main',\n                                    ['isoclines are vertical']\n                                ]],\n                            solutionSpaceBasis: [// also shiftSolutionRelation\n                                [\n                                    'main',\n                                    [\n                                        'If \\\\( y_p \\\\) is a solution',\n                                        'then \\\\( y_p + C \\\\) is a general solution.'\n                                    ]\n                                ]],\n                            associatedSolutionRelation: [[\n                                    'main',\n                                    ['\\\\( y = C \\\\) is a solution of the associated homogeneous equation.']\n                                ]],\n                            generalSolutionMethod: [\n                                ['form'],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ ' + dydt + ' = f(t) \\\\]',\n                                        '\\\\[ ' + int('' + dydt, 't') + ' = ' + int('f(t)', 't') + ' + C \\\\]'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    ['\\\\[ y = ' + int('f(t)', 't') + ' + C \\\\]']\n                                ]\n                            ],\n                            equilibriumSolutionMethod: [\n                                [\n                                    'note',\n                                    ['Can\\'t find equilibrium solution like in separable equation because \\\\( f_2(y) = 1 \\\\).']\n                                ],\n                                ['close']\n                            ]\n                        }\n                    },\n                    o1_expGrowth: {\n                        parents: {\n                            on_linearHomogeneousConstant: true,\n                            o1_autonomous: true,\n                            o1_linearHomogeneous: true\n                        },\n                        name: 'first-order linear homogeneous with constant coefficients (exponential growth)',\n                        htmlName: 'first-order <a href=\\'https://en.wikipedia.org/wiki/Linear_differential_equation#Homogeneous_equations_with_constant_coefficients\\'>linear homogeneous with constant coefficients</a> (<a href=\\'https://en.wikipedia.org/wiki/Exponential_growth#Differential_equation\\'>exponential growth</a>)',\n                        importance: 2,\n                        equation: dydt + ' = k \\\\cdot y',\n                        traits: {\n                            characteristicEquation: [\n                                ['form'],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ ' + dydt + ' = k \\\\cdot y \\\\]',\n                                        'substitute \\\\( y = e^{\\\\lambda t} \\\\)',\n                                        '\\\\[ ' + ddt + ' e^{\\\\lambda t} = k \\\\cdot e^{\\\\lambda t} \\\\]',\n                                        '\\\\[ \\\\lambda \\\\cdot e^{\\\\lambda t} = k \\\\cdot e^{\\\\lambda t} \\\\]',\n                                        'divide by \\\\( e^{\\\\lambda t} \\\\)'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    ['\\\\[ \\\\lambda = k \\\\]']\n                                ]\n                            ],\n                            generalSolutionMethod: [\n                                ['form'],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ ' + dydt + ' = k \\\\cdot y \\\\]',\n                                        '\\\\[ \\\\frac{1}{y} \\\\cdot ' + dydt + ' = k \\\\]',\n                                        '\\\\[ ' + int('\\\\frac{1}{y} ' + dydt, 't') + ' = ' + int('k', 't') + ' + C \\\\]',\n                                        '\\\\[ ' + int('\\\\frac{1}{y}', 'y') + ' = ' + int('k', 't') + ' + C \\\\]',\n                                        '\\\\[ \\\\ln|y| = kt + C \\\\]',\n                                        '\\\\[ y(t) = C_1 e^{kt} \\\\]',\n                                        '\\\\[ y(0) = C_1 e^0 \\\\]',\n                                        '\\\\[ C_1 = y(0) \\\\]'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    ['\\\\[ y(t) = y(0) e^{kt} \\\\]']\n                                ],\n                                [\n                                    'note',\n                                    ['includes ' + eqsol('equilibrium solution') + ' when \\\\( y(0) = 0 \\\\)']\n                                ]\n                            ],\n                            equilibriumSolutionMethod: [// TODO could have inherited from linear homogeneous, but have to override autonomous\n                                [\n                                    'main',\n                                    ['\\\\[ y = 0 \\\\]']\n                                ]]\n                        }\n                    },\n                    o1_logisticGrowth: {\n                        parents: {\n                            o1_autonomous: true,\n                            o1_bernoulli: true\n                        },\n                        name: 'logistic growth',\n                        htmlName: '<a href=\\'https://en.wikipedia.org/wiki/Logistic_function#In_ecology:_modeling_population_growth\\'>logistic growth</a>',\n                        importance: 2,\n                        equation: dydt + ' = r \\\\cdot y \\\\cdot \\\\left(1 - \\\\frac{y}{k}\\\\right)',\n                        equationNotes: ['\\\\( k \\\\) is the <a href=\\'https://en.wikipedia.org/wiki/Carrying_capacity\\'>carrying capacity</a>'],\n                        traits: {\n                            equilibriumSolutionMethod: [\n                                ['form'],\n                                [\n                                    'main',\n                                    [\n                                        '\\\\[ y = 0 \\\\]',\n                                        '\\\\[ y = k \\\\]'\n                                    ]\n                                ]\n                            ]\n                        }\n                    },\n                    o2: {\n                        parents: { on: true },\n                        name: 'second-order',\n                        importance: 2,\n                        equation: dd('y', 't', '2') + ' = f(t,y,' + dydt + ')',\n                        traits: {\n                            orderReduction: [\n                                [\n                                    'title',\n                                    ['Order reduction to a system of 2 first-order equations']\n                                ],\n                                ['form'],\n                                [\n                                    'main',\n                                    [\n                                        'transform to a system of 2 first-order equations',\n                                        '\\\\[ \\\\left\\\\{ \\\\begin{aligned}' + dd('y') + ' &= v \\\\\\\\' + dd('v') + ' &= f(t,y,v)' + '\\\\end{aligned} \\\\right. \\\\]'\n                                    ]\n                                ]\n                            ]\n                        }\n                    },\n                    o2_autonomous: {\n                        parents: { o2: true },\n                        name: 'second-order autonomous',\n                        htmlName: 'second-order <a href=\\'https://en.wikipedia.org/wiki/Autonomous_system_%28mathematics%29\\'>autonomous</a>',\n                        importance: 2,\n                        equation: dd('y', 't', '2') + ' = f(y,' + dydt + ')',\n                        traits: {\n                            orderReduction: [\n                                [\n                                    'title',\n                                    ['Order reduction to a system of 2 first-order autonomous equations']\n                                ],\n                                ['form'],\n                                [\n                                    'main',\n                                    ['\\\\[ \\\\left\\\\{ \\\\begin{aligned}' + dd('y') + ' &= v \\\\\\\\' + dd('v') + ' &= f(y,v)' + '\\\\end{aligned} \\\\right. \\\\]']\n                                ]\n                            ]\n                        }\n                    },\n                    o2_linearHomogeneousConstant: {\n                        parents: {\n                            on_linearHomogeneousConstant: true,\n                            o2_autonomous: true\n                        },\n                        name: 'second-order linear homogeneous with constant coefficients',\n                        htmlName: 'second-order <a href=\\'https://en.wikipedia.org/wiki/Linear_differential_equation#Homogeneous_equations_with_constant_coefficients\\'>linear homogeneous with constant coefficients</a>',\n                        importance: 2,\n                        equation: dd('y', 't', '2') + ' = - \\\\frac b a ' + dydt + ' - \\\\frac c a y',\n                        equationNotes: ['usually written as \\\\( a ' + dd('y', 't', '2') + ' + b ' + dydt + ' + c y = 0 \\\\)'],\n                        traits: {\n                            characteristicEquation: [\n                                ['form'],\n                                [\n                                    'detail',\n                                    [\n                                        '\\\\[ a ' + dd('y', 't', '2') + ' + b ' + dydt + ' + c y = 0 \\\\]',\n                                        'substitute \\\\( y = e^{\\\\lambda t} \\\\)',\n                                        '\\\\[ a ' + dd('', 't', '2') + ' e^{\\\\lambda t} + b ' + ddt + ' e^{\\\\lambda t} + c e^{\\\\lambda t} = 0 \\\\]',\n                                        '\\\\[ a \\\\lambda^2 e^{\\\\lambda t} + b \\\\lambda e^{\\\\lambda t} + c e^{\\\\lambda t} = 0 \\\\]',\n                                        'divide by \\\\( e^{\\\\lambda t} \\\\)'\n                                    ]\n                                ],\n                                [\n                                    'main',\n                                    ['\\\\[ a \\\\lambda^2 + b \\\\lambda + c = 0 \\\\]']\n                                ]\n                            ],\n                            orderReduction: [\n                                [\n                                    'title',\n                                    ['Order reduction to a system of 2 first-order linear homogeneous equations with constant coefficients']\n                                ],\n                                ['form'],\n                                [\n                                    'main',\n                                    ['\\\\[ \\\\left\\\\{ \\\\begin{aligned}' + dd('y') + ' &= v \\\\\\\\' + dd('v') + ' &= - \\\\frac c a y - \\\\frac b a v' + '\\\\end{aligned} \\\\right. \\\\]']\n                                ]\n                            ]\n                        }\n                    },\n                    o2_vanDerPol: {\n                        parents: { o2_autonomous: true },\n                        name: 'Van der Pol',\n                        htmlName: '<a href=\\'https://en.wikipedia.org/wiki/Van_der_Pol_oscillator\\'>Van der Pol</a>',\n                        importance: 3,\n                        equation: dd('y', 't', '2') + ' = \\\\mu(1-y^2)' + dydt + ' - y',\n                        traits: {}\n                    },\n                    o2_unforcedDuffing: {\n                        parents: { o2_autonomous: true },\n                        name: 'unforced Duffing',\n                        htmlName: 'unforced <a href=\\'https://en.wikipedia.org/wiki/Duffing_equation\\'>Duffing</a>',\n                        importance: 3,\n                        equation: dd('y', 't', '2') + ' = - \\\\delta ' + dydt + ' - \\\\alpha y - \\\\beta y^3',\n                        traits: {}\n                    },\n                    o2_harmonicOscillator: {\n                        parents: { o2_autonomous: true },\n                        name: 'harmonic oscillator',\n                        htmlName: '<a href=\\'https://en.wikipedia.org/wiki/Harmonic_oscillator#Damped_harmonic_oscillator\\'>harmonic oscillator</a>',\n                        importance: 3,\n                        equation: dd('y', 't', '2') + ' = - \\\\frac{b}{m} ' + dydt + ' - \\\\frac{k}{m} y',\n                        equationNotes: [\n                            '\\\\(m\\\\) is the mass',\n                            '\\\\(b\\\\) is the viscous damping coefficient',\n                            '\\\\(k\\\\) is the spring constant'\n                        ],\n                        traits: {}\n                    },\n                    o2_simpleHarmonicOscillator: {\n                        parents: { o2_harmonicOscillator: true },\n                        name: 'simple harmonic oscillator',\n                        htmlName: '<a href=\\'https://en.wikipedia.org/wiki/Harmonic_oscillator#Simple_harmonic_oscillator\\'>simple harmonic oscillator</a>',\n                        importance: 3,\n                        equation: dd('y', 't', '2') + ' = - \\\\frac{k}{m} y',\n                        equationNotes: [\n                            '\\\\(m\\\\) is the mass',\n                            '\\\\(k\\\\) is the spring constant'\n                        ],\n                        traits: {}\n                    }\n                };\n                module.exports = {\n                    traits: traits,\n                    classes: classes\n                };\n            },\n            {}\n        ],\n        2: [\n            function (require, module, exports) {\n                'use strict';\n                var UnorderedClassSubgraph = require(9);\n                var OrderedClassSubgraph = require(3);\n                var TheadLayout = require(4);\n                var TrLayout = require(8);\n                var data = require(1);\n                var i18n = function (id) {\n                    var strings = {\n                        'trait.entity': 'Associated entities',\n                        'trait.associatedHomogeneousEquation': 'Associated homogeneous equation',\n                        'trait.characteristicEquation': '<a href=\\'https://en.wikipedia.org/wiki/Characteristic_equation_(calculus)\\'>Characteristic equation</a>',\n                        'trait.property': 'Properties',\n                        'trait.isoclineProperty': 'Property of <a href=\\'https://en.wikipedia.org/wiki/Isocline\\'>isoclines</a>',\n                        'trait.solutionRelation': 'Solution relation properties',\n                        'trait.shiftSolutionRelation': 'Time/value shifts of solutions',\n                        'trait.linearitySolutionRelation': 'Linear/affine properties of solutions',\n                        'trait.solutionSpaceBasis': 'Basis of the solution space',\n                        'trait.homogeneitySolutionRelation': 'Homogeneity of solutions',\n                        'trait.additivitySolutionRelation': 'Additivity of solutions',\n                        'trait.twoLinearCombinationSolutionRelation': '<a href=\\'https://en.wikipedia.org/wiki/Linear_combination\\'>Linear combination</a> property of solutions',\n                        'trait.nLinearCombinationSolutionRelation': '<a href=\\'https://en.wikipedia.org/wiki/Linear_combination\\'>Linear combination</a> property of solutions',\n                        'trait.twoAffineCombinationSolutionRelation': '<a href=\\'https://en.wikipedia.org/wiki/Affine_combination\\'>Affine combination</a> property of solutions',\n                        'trait.nAffineCombinationSolutionRelation': '<a href=\\'https://en.wikipedia.org/wiki/Affine_combination\\'>Affine combination</a> property of solutions',\n                        'trait.associatedSolutionRelation': 'Associated homogeneous equation solution',\n                        'trait.transform': 'Transforms to different types',\n                        'trait.orderReduction': 'Order reduction',\n                        'trait.solutionMethod': 'Solutions',\n                        'trait.generalSolutionMethod': 'General solution',\n                        'trait.phaseSolutionMethod': '<a href=\\'https://en.wikipedia.org/wiki/Phase_space\\'>Phase space</a> trajectory',\n                        'trait.equilibriumSolutionMethod': '<a href=\\'https://en.wikipedia.org/wiki/Equilibrium_point\\'>Equilibrium solutions</a>',\n                        'trait.testSolutionMethod': 'Solution testing'\n                    };\n                    return strings[id];\n                };\n                $(function () {\n                    $('.crnx-ode-properties').each(function () {\n                        var $container = $(this);\n                        var selectedNodes = {};\n                        // visible nodes // TODO rename to visibleNodes\n                        var traitAlignmentLevel = 1;\n                        var maxTraitAlignmentLevel = 4;\n                        for (var id in data.classes) {\n                            if (data.classes[id].importance <= 1) {\n                                selectedNodes[id] = true;\n                            }\n                        }\n                        var getHtmlName = function (id) {\n                            return data.classes[id].htmlName !== undefined ? data.classes[id].htmlName : data.classes[id].name;\n                        };\n                        var unorderedClassSubgraph = void 0, theadLayout = void 0, orderedClassSubgraph = void 0, trLayout = void 0;\n                        var recomputeLayouts = function () {\n                            unorderedClassSubgraph = new UnorderedClassSubgraph(data.classes, selectedNodes);\n                            theadLayout = new TheadLayout(unorderedClassSubgraph);\n                            orderedClassSubgraph = new OrderedClassSubgraph(unorderedClassSubgraph, theadLayout.columns);\n                            trLayout = new TrLayout(unorderedClassSubgraph, data.classes, theadLayout.columns);\n                        };\n                        recomputeLayouts();\n                        // TODO put into classSubgraph\n                        var breadthWalk = function (graph, id) {\n                            var result = [];\n                            var visited = {};\n                            var queue = [id];\n                            while (queue.length > 0) {\n                                id = queue.shift();\n                                if (visited[id]) {\n                                    continue;\n                                }\n                                visited[id] = true;\n                                if (!selectedNodes[id]) {\n                                    result.push(id);\n                                }\n                                queue.push.apply(queue, Object.keys(graph[id]).sort());\n                            }\n                            return result;\n                        };\n                        var writeButton = function (text, tip) {\n                            var $button = $('<button type=\\'button\\'><span>' + text + '</span></button>');\n                            if (tip !== undefined) {\n                                $button.attr('title', tip);\n                            }\n                            return $button;\n                        };\n                        var writeTraitItemSection = function (type, contents) {\n                            var $section = $('<div class=\\'' + type + '\\'>').append(contents.map(function (line) {\n                                if (type == 'title') {\n                                    return $('<div><em>' + line + '</em>:</div>');\n                                } else {\n                                    return $('<div>' + line + '</div>');\n                                }\n                            }));\n                            if (type == 'detail') {\n                                (function () {\n                                    var $b1 = writeButton('Open', 'Expand details');\n                                    var $b2 = writeButton('Open', 'Expand details');\n                                    $section.prepend($b1).append($b2);\n                                    var $bs = $b1.add($b2);\n                                    $bs.click(function () {\n                                        if (!$section.hasClass('open')) {\n                                            $section.addClass('open');\n                                            $bs.html('<span>Close</span>').attr('title', 'Collapse details');\n                                        } else {\n                                            $section.removeClass('open');\n                                            $bs.html('<span>Open</span>').attr('title', 'Expand details');\n                                        }\n                                    });\n                                }());\n                            }\n                            return $section;\n                        };\n                        var writeTraitItem = function (forClassId, fromClassId, traitId) {\n                            var item = data.classes[fromClassId].traits[traitId];\n                            var sections = [];\n                            item.forEach(function (section) {\n                                var type = section[0], contents = section[1];\n                                if (type == 'form' && forClassId != fromClassId) {\n                                    sections.push(writeTraitItemSection('note', [\n                                        'when equation is written as <em>' + getHtmlName(fromClassId) + '</em>:',\n                                        '\\\\[' + data.classes[fromClassId].equation + '\\\\]'\n                                    ]));\n                                } else if (contents) {\n                                    sections.push(writeTraitItemSection(type, contents));\n                                }\n                            });\n                            if (sections.length > 0 && item[0][0] != 'title') {\n                                sections.unshift(writeTraitItemSection('title', [item[item.length - 1][0] == 'compare' ? 'Property comparable to <em>' + i18n('trait.' + traitId) + '</em>' : i18n('trait.' + traitId)]));\n                            }\n                            if (sections.length > 0) {\n                                return $('<div class=\\'trait\\'>').append(sections);\n                            }\n                        };\n                        var writeTraitCell = function (forClassId, traitCell) {\n                            var $cell = $('<td>');\n                            if (traitCell.length > 0) {\n                                $cell.append(traitCell.map(function (classTraitId) {\n                                    var classId = classTraitId[0];\n                                    var traitId = classTraitId[1];\n                                    return writeTraitItem(forClassId, classId, traitId);\n                                }));\n                            }\n                            return $cell;\n                        };\n                        var writeTraitRow = function (traitSubtree) {\n                            var traitCells = trLayout.getSubtreeLayout(traitSubtree);\n                            if (!traitCells)\n                                return null;\n                            return $('<tr>').append(traitCells.map(function (traitCell, i) {\n                                return writeTraitCell(theadLayout.columns[i], traitCell);\n                            }));\n                        };\n                        var writeTable = function () {\n                            var visibleAncestors = {};\n                            // including self\n                            var computeVisibleAncestors = function (id, aid) {\n                                visibleAncestors[id][aid] = true;\n                                for (var naid in unorderedClassSubgraph.visibleParents[aid]) {\n                                    computeVisibleAncestors(id, naid);\n                                }\n                            };\n                            for (var _id in selectedNodes) {\n                                visibleAncestors[_id] = {};\n                                computeVisibleAncestors(_id, _id);\n                            }\n                            var $equations = {};\n                            var $attachedMenu = void 0, $attachedToButton = void 0, attachedDirection = void 0, attachTimeoutId = void 0;\n                            var deleteNode = function (id) {\n                                delete selectedNodes[id];\n                                recomputeLayouts();\n                                writeTable();\n                            };\n                            var addNode = function (id) {\n                                selectedNodes[id] = true;\n                                recomputeLayouts();\n                                writeTable();\n                            };\n                            var setCellClasses = function ($cell, cell) {\n                                ;\n                                [\n                                    'b',\n                                    't',\n                                    'bt',\n                                    'rl',\n                                    'rt',\n                                    'bl'\n                                ].forEach(function (dir) {\n                                    if (cell[dir]) {\n                                        $cell.addClass(dir);\n                                    }\n                                });\n                            };\n                            var writeTheadButton = function ($cell, text, tip, dir, nodes) {\n                                var keyCodeEnter = 13;\n                                var keyCodeSpace = 32;\n                                var keyCodeUp = 38;\n                                var keyCodeDown = 40;\n                                var $button = writeButton(text, tip).addClass(dir).click(function () {\n                                    var removeAttachedMenu = function () {\n                                        $attachedToButton.removeClass('attached-t attached-b');\n                                        $attachedMenu.remove();\n                                        clearTimeout(attachTimeoutId);\n                                        $attachedToButton = undefined;\n                                        $attachedMenu = undefined;\n                                        attachedDirection = undefined;\n                                        attachTimeoutId = undefined;\n                                    };\n                                    var startAttachingMenu = function () {\n                                        $attachedToButton = $button;\n                                        $attachedMenu = $('<ul>').append(nodes.map(function (id) {\n                                            return $('<li tabindex=\\'0\\'>' + data.classes[id].name + '</li>').click(function () {\n                                                addNode(id);\n                                            }).keydown(function (ev) {\n                                                if (!attachedDirection)\n                                                    return;\n                                                // not yet decided on attach direction (this can't happen)\n                                                if (ev.keyCode == keyCodeUp) {\n                                                    var $toFocus = $(this).prev();\n                                                    if ($toFocus.length) {\n                                                        $toFocus.focus();\n                                                        return false;\n                                                    } else if (attachedDirection == 'b') {\n                                                        $button.focus();\n                                                        return false;\n                                                    }\n                                                } else if (ev.keyCode == keyCodeDown) {\n                                                    var _$toFocus = $(this).next();\n                                                    if (_$toFocus.length) {\n                                                        _$toFocus.focus();\n                                                        return false;\n                                                    } else if (attachedDirection == 't') {\n                                                        $button.focus();\n                                                        return false;\n                                                    }\n                                                } else if (ev.keyCode == keyCodeEnter || ev.keyCode == keyCodeSpace) {\n                                                    addNode(id);\n                                                    return false;\n                                                }\n                                            });\n                                        }));\n                                        $cell.append($attachedMenu);\n                                        attachTimeoutId = setTimeout(function () {\n                                            // can calculate height only after it's displayed\n                                            var mh = $attachedMenu.outerHeight();\n                                            var mo = $attachedMenu.offset();\n                                            var bh = $button.outerHeight();\n                                            var bo = $button.offset();\n                                            var t = bo.top - mh + 1;\n                                            if (dir != 't' || t < 0) {\n                                                // want below or doesn't fit to screen above the button\n                                                t = bo.top + bh - 1;\n                                                attachedDirection = 'b';\n                                            } else {\n                                                $attachedMenu.insertBefore($button);\n                                                attachedDirection = 't';\n                                            }\n                                            $attachedMenu.offset({\n                                                top: t,\n                                                left: mo.left\n                                            });\n                                            $attachedMenu.addClass('attached');\n                                            $button.addClass('attached-' + attachedDirection);\n                                        }, 0);\n                                    };\n                                    if (!$button.is($attachedToButton)) {\n                                        if ($attachedToButton) {\n                                            removeAttachedMenu();    // close menu opened elsewhere\n                                        }\n                                        startAttachingMenu();\n                                    } else {\n                                        removeAttachedMenu();    // close menu here\n                                    }\n                                }).keydown(function (ev) {\n                                    if ($button.is($attachedToButton)) {\n                                        if (ev.keyCode == keyCodeUp && attachedDirection == 't') {\n                                            $attachedMenu.children().last().focus();\n                                            return false;\n                                        } else if (ev.keyCode == keyCodeDown && attachedDirection == 'b') {\n                                            $attachedMenu.children().first().focus();\n                                            return false;\n                                        }\n                                    }\n                                });\n                                return $button;\n                            };\n                            var writeTheadCell = function (cell) {\n                                var $cell = $('<th>');\n                                setCellClasses($cell, cell);\n                                if (cell.node !== undefined) {\n                                    $cell.append(getHtmlName(cell.node));\n                                    var ancestors = breadthWalk(unorderedClassSubgraph.allParents, cell.node).reverse();\n                                    if (ancestors.length > 0) {\n                                        $cell.append(' ', writeTheadButton($cell, 'Add ancestor', 'Add one of supertypes of this equation type', 't', ancestors));\n                                    }\n                                    var descendants = breadthWalk(unorderedClassSubgraph.allChildren, cell.node);\n                                    if (descendants.length > 0) {\n                                        $cell.append(' ', writeTheadButton($cell, 'Add descendant', 'Add one of subtypes of this equation type', 'b', descendants));\n                                    }\n                                }\n                                return $cell;\n                            };\n                            var writeThead = function () {\n                                var $thead = $('<thead>');\n                                for (var i = 0; i < theadLayout.nodeLayers.length; i++) {\n                                    $thead.append($('<tr class=\\'nodes\\'>').append(theadLayout.nodeLayers[i].map(writeTheadCell)));\n                                    if (i < theadLayout.arcLayers.length) {\n                                        $thead.append(theadLayout.arcLayers[i].map(function (row) {\n                                            return $('<tr class=\\'arcs\\'>').append(row.map(function (cell) {\n                                                var $cell = $('<th>');\n                                                setCellClasses($cell, cell);\n                                                return $cell;\n                                            }));\n                                        }));\n                                    }\n                                }\n                                return $thead;\n                            };\n                            var writeTfoot = function () {\n                                if (theadLayout.columns.length <= 1) {\n                                    return $();\n                                }\n                                return $('<tfoot>').append($('<tr>').append(theadLayout.columns.map(function (id) {\n                                    return $('<td>').append(writeButton('Delete', 'Delete this equation type').click(function () {\n                                        deleteNode(id);\n                                    }));\n                                })));\n                            };\n                            var writeTraitRows = function () {\n                                var output = [];\n                                var rec = function (traitSubtree, depth) {\n                                    var traitId = traitSubtree[0];\n                                    var traitChildren = traitSubtree[1];\n                                    if (depth >= traitAlignmentLevel || !traitChildren) {\n                                        output.push(writeTraitRow(traitSubtree));\n                                    } else {\n                                        traitChildren.forEach(function (traitChild) {\n                                            return rec(traitChild, depth + 1);\n                                        });\n                                    }\n                                };\n                                rec([\n                                    'root',\n                                    data.traits\n                                ], 0);\n                                return output;\n                            };\n                            var writeTraitAlignmentControls = function () {\n                                var $container = $('<form>Trait alignment level:</form>');\n                                var _loop = function (i) {\n                                    $container.append(' ', $('<label>').append($('<input type=\\'radio\\' name=\\'trait-alignment-level\\'>').prop('checked', i == traitAlignmentLevel).click(function () {\n                                        traitAlignmentLevel = i;\n                                        writeTable();\n                                    }), ' ' + i));\n                                };\n                                for (var i = 0; i <= maxTraitAlignmentLevel; i++) {\n                                    _loop(i);\n                                }\n                                return $container;\n                            };\n                            var writeEquation = function (id) {\n                                $equations[id] = $('<div class=\\'equation\\'>').append('\\\\[' + data.classes[id].equation + '\\\\]');\n                                if (data.classes[id].vectorEquation) {\n                                    $equations[id].append('<div class=\\'alt-separator\\'>or in vector format</div>', '\\\\[' + data.classes[id].vectorEquation + '\\\\]');\n                                }\n                                $equations[id].hover(function () {\n                                    for (var aid in visibleAncestors[id]) {\n                                        $equations[aid].addClass('highlight');\n                                    }\n                                }, function () {\n                                    for (var aid in visibleAncestors[id]) {\n                                        $equations[aid].removeClass('highlight');\n                                    }\n                                });\n                                return $equations[id];\n                            };\n                            $container.empty().append($('<table>').append(writeThead(), writeTfoot(), $('<tbody>').append($('<tr>').append(// equations\n                            theadLayout.columns.map(function (id) {\n                                var $td = $('<td>').append(writeEquation(id));\n                                var notes = [];\n                                if (data.classes[id].equationNotes !== undefined) {\n                                    notes.push.apply(notes, data.classes[id].equationNotes.map(function (noteText) {\n                                        return $('<div class=\\'note\\'>').append(noteText);\n                                    }));\n                                }\n                                var columnParents = orderedClassSubgraph.visibleParents[id];\n                                if (columnParents.length > 0) {\n                                    notes.push($('<div class=\\'note\\'>').append('can also be written as and has all properties of:', $('<ul>').append(columnParents.map(function (pid) {\n                                        var $li = $('<li>').append($('<em>' + getHtmlName(pid) + '</em>').hover(function () {\n                                            $equations[pid].addClass('highlight');\n                                            $li.addClass('highlight');\n                                        }, function () {\n                                            $li.removeClass('highlight');\n                                            $equations[pid].removeClass('highlight');\n                                        }));\n                                        return $li;\n                                    }))));\n                                }\n                                if (notes.length > 0) {\n                                    $td.append($('<ul>').append(notes.map(function (note) {\n                                        return $('<li>').append(note);\n                                    })));\n                                }\n                                return $td;\n                            })), writeTraitRows())), writeTraitAlignmentControls(), '<p>General notes:</p>', $('<ul>').append('<li>how to read the diagram: <ul>' + '<li>equation type names are written among arrows that show the relationship between types</li>' + '<li>properties of an equation type are listed in the table column below its name</li>' + '<li>every property of the equation type on the tip of the arrow <span class=\\'arrow\\'></span> is also true for the equation type on the other end of the arrow (like <a href=\\'https://en.wikipedia.org/wiki/Class_diagram\\'>class diagram</a>)</li>' + '</ul></li>', '<li>all functions have to be continuous on the interval of interest</li>', '<li>\\\\( y \\\\), \\\\( y_1 \\\\), \\\\( y_p \\\\) and \\\\( y \\\\) or \\\\( z \\\\) with any other subscript is a function of \\\\( t \\\\); other functions are written with an argument like this: \\\\( f(t) \\\\)</li>', '<li>\\\\( C \\\\), \\\\( K \\\\) and other uppercase letters are arbitrary constants</li>', '<li>\\\\( \\\\int\\\\!f(t)\\\\,\\\\mathrm{d}t + C \\\\) is a family of antiderivatives of \\\\( f(t) \\\\) with parameter \\\\( C \\\\)</li>', '<li>\\\\( \\\\int\\\\!f(t)\\\\,\\\\mathrm{d}t \\\\) is any single antiderivative of \\\\( f(t) \\\\)'));\n                            MathJax.Hub.Queue([\n                                'Typeset',\n                                MathJax.Hub\n                            ]);\n                        };\n                        writeTable();\n                    });\n                });\n            },\n            {\n                '1': 1,\n                '3': 3,\n                '4': 4,\n                '8': 8,\n                '9': 9\n            }\n        ],\n        3: [\n            function (require, module, exports) {\n                'use strict';\n                // TODO maybe don't need this class - use iterators on unordered subgraph instead?\n                var OrderedClassGraph = function OrderedClassGraph(unorderedClassGraph, orderedClasses) {\n                    babelHelpers.classCallCheck(this, OrderedClassGraph);\n                    var ranks = {};\n                    orderedClasses.forEach(function (id, i) {\n                        ranks[id] = i;\n                    });\n                    this.visibleParents = {};\n                    for (var id in unorderedClassGraph.visibleParents) {\n                        this.visibleParents[id] = Object.keys(unorderedClassGraph.visibleParents[id]).sort(function (id1, id2) {\n                            return ranks[id1] - ranks[id2];\n                        });\n                    }\n                };\n                module.exports = OrderedClassGraph;\n            },\n            {}\n        ],\n        4: [\n            function (require, module, exports) {\n                'use strict';\n                var makeNodeLabelLayers = require(7);\n                var makeArcLocationLayers = require(5);\n                var makeLayoutLayers = require(6);\n                var TheadLayout = function TheadLayout(unorderedClassGraph) {\n                    var _ref;\n                    babelHelpers.classCallCheck(this, TheadLayout);\n                    var orderedVisibleDepthNodes = makeNodeLabelLayers(unorderedClassGraph.visibleParents, unorderedClassGraph.visibleDepthNodes);\n                    var arcLocationLayers = makeArcLocationLayers(orderedVisibleDepthNodes, unorderedClassGraph.visibleParents);\n                    var t = makeLayoutLayers(orderedVisibleDepthNodes, arcLocationLayers);\n                    this.columns = (_ref = []).concat.apply(_ref, orderedVisibleDepthNodes);\n                    this.nodeLayers = t[0];\n                    this.arcLayers = t[1];\n                };\n                module.exports = TheadLayout;\n            },\n            {\n                '5': 5,\n                '6': 6,\n                '7': 7\n            }\n        ],\n        5: [\n            function (require, module, exports) {\n                'use strict';\n                module.exports = function (depthList, parents) {\n                    // TODO would prefer ordered parents list\n                    var merge = function (a, b) {\n                        // can also use lodash union and sort\n                        var c = [];\n                        var i = 0, j = 0;\n                        while (i < a.length || j < b.length) {\n                            if (j >= b.length) {\n                                c.push(a[i++]);\n                            } else if (i >= a.length) {\n                                c.push(b[j++]);\n                            } else if (a[i] < b[j]) {\n                                c.push(a[i++]);\n                            } else if (a[i] > b[j]) {\n                                c.push(b[j++]);\n                            } else {\n                                c.push(a[i++]);\n                                j++;\n                            }\n                        }\n                        return c;\n                    };\n                    var arcRows = [];\n                    var xs = {};\n                    var x = 0;\n                    for (var i = 0; i < depthList.length; i++) {\n                        depthList[i].forEach(function (node) {\n                            xs[node] = x++;\n                        });\n                        if (i > 0) {\n                            var arcs = [];\n                            for (var j = depthList[i].length - 1; j >= 0; j--) {\n                                var node = depthList[i][j];\n                                var parentXs = Object.keys(parents[node]).map(function (parentNode) {\n                                    return xs[parentNode];\n                                }).sort(function (a, b) {\n                                    return a - b;\n                                });\n                                arcs.push([\n                                    parentXs,\n                                    [xs[node]]\n                                ]);\n                            }\n                            for (var _j = 1; _j < arcs.length; _j++) {\n                                if (String(arcs[_j - 1][0]) === String(arcs[_j][0])) {\n                                    // sloppy but should be ok for numbers\n                                    arcs[_j - 1][1] = merge(arcs[_j - 1][1], arcs[_j][1]);\n                                    // merge children - parents already merged\n                                    arcs.splice(_j, 1);\n                                    _j -= 1;\n                                }\n                            }\n                            arcRows.push(arcs);\n                        }\n                    }\n                    return arcRows;\n                };\n            },\n            {}\n        ],\n        6: [\n            function (require, module, exports) {\n                'use strict';\n                // TODO fake lodash\n                var sum = function (arr) {\n                    return arr.reduce(function (a, b) {\n                        return a + b;\n                    });\n                };\n                //const times=(n,fn)=>Array(n).map((v,i)=>fn(i))\n                var times = function (n, fn) {\n                    var arr = Array(n);\n                    for (var i = 0; i < n; i++) {\n                        arr[i] = fn(i);\n                    }\n                    return arr;\n                };\n                var head = function (arr) {\n                    return arr[0];\n                };\n                var last = function (arr) {\n                    return arr[arr.length - 1];\n                };\n                module.exports = function (nodeLabelLayers, arcLocationLayers) {\n                    var layoutWidth = sum(nodeLabelLayers.map(function (x) {\n                        return x.length;\n                    }));\n                    var makeBlankRow = function () {\n                        return times(layoutWidth, function () {\n                            return {};\n                        });\n                    };\n                    var nodeLayoutLayers = [], arcLayoutLayers = [];\n                    var drawArcUp = function (i, j, k) {\n                        for (; i >= 0; i--) {\n                            for (j -= 1; j >= 0; j--) {\n                                arcLayoutLayers[i][j][k].bt = true;\n                            }\n                            if (nodeLayoutLayers[i][k].node !== undefined) {\n                                nodeLayoutLayers[i][k].b = true;\n                                return;\n                            }\n                            nodeLayoutLayers[i][k].bt = true;\n                            if (i <= 0) {\n                                return;\n                            }\n                            j = arcLayoutLayers[i - 1].length;\n                        }\n                    };\n                    var drawArcDown = function (i, j, k) {\n                        for (j += 1; j < arcLayoutLayers[i].length; j++) {\n                            arcLayoutLayers[i][j][k].bt = true;\n                        }\n                        nodeLayoutLayers[i + 1][k].t = true;\n                    };\n                    // create empty cells\n                    for (var i = 0; i < nodeLabelLayers.length; i++) {\n                        nodeLayoutLayers.push(makeBlankRow());\n                        if (i >= arcLocationLayers.length)\n                            continue;\n                        arcLayoutLayers.push(arcLocationLayers[i].map(makeBlankRow));\n                    }\n                    // fill cells\n                    var x = 0;\n                    var _loop = function (_i) {\n                        nodeLabelLayers[_i].forEach(function (node) {\n                            nodeLayoutLayers[_i][x++].node = node;\n                        });\n                        if (_i >= arcLocationLayers.length)\n                            return 'continue';\n                        for (var j = 0; j < arcLocationLayers[_i].length; j++) {\n                            var parentLocations = arcLocationLayers[_i][j][0];\n                            var childLocations = arcLocationLayers[_i][j][1];\n                            var pi = 0, ci = 0;\n                            for (var k = 0; k < layoutWidth; k++) {\n                                if (k > head(parentLocations) && k < last(childLocations)) {\n                                    arcLayoutLayers[_i][j][k].rl = true;\n                                }\n                                if (k == parentLocations[pi]) {\n                                    pi++;\n                                    arcLayoutLayers[_i][j][k].rt = true;\n                                    drawArcUp(_i, j, k);\n                                }\n                                if (k == childLocations[ci]) {\n                                    ci++;\n                                    arcLayoutLayers[_i][j][k].bl = true;\n                                    drawArcDown(_i, j, k);\n                                }\n                            }\n                        }\n                    };\n                    for (var _i = 0; _i < nodeLabelLayers.length; _i++) {\n                        var _ret = _loop(_i);\n                        if (_ret === 'continue')\n                            continue;\n                    }\n                    return [\n                        nodeLayoutLayers,\n                        arcLayoutLayers\n                    ];\n                };\n            },\n            {}\n        ],\n        7: [\n            function (require, module, exports) {\n                'use strict';\n                // dag = {nodeLabel:{parentLabel:true,...},...}\n                // nodes = {nodeLabel:true,...}\n                module.exports = function (visibleParents, visibleDepthNodes) {\n                    // sort nodes at each depth by\n                    //\tlexicographic parent order\n                    //\tlabel\n                    var orderedVisibleDepthNodes = [];\n                    var nextParentOrder = 0;\n                    var parentOrder = {};\n                    var _loop = function (depth) {\n                        orderedVisibleDepthNodes[depth] = Object.keys(visibleDepthNodes[depth]);\n                        var sortedParents = {};\n                        for (var node in visibleDepthNodes[depth]) {\n                            sortedParents[node] = Object.keys(visibleParents[node]).map(function (parentNode) {\n                                return parentOrder[parentNode];\n                            }).sort(function (a, b) {\n                                return a - b;\n                            });\n                        }\n                        orderedVisibleDepthNodes[depth].sort(function (node0, node1) {\n                            var p0 = sortedParents[node0];\n                            var p1 = sortedParents[node1];\n                            for (var i = 0; i < p0.length || i < p1.length; i++) {\n                                var cmpLen = (i < p0.length) - (i < p1.length);\n                                if (cmpLen != 0) {\n                                    return cmpLen;\n                                }\n                                var cmpOrd = p0[i] - p1[i];\n                                if (cmpOrd != 0) {\n                                    return cmpOrd;\n                                }\n                            }\n                            if (node0 < node1) {\n                                return -1;\n                            } else if (node0 > node1) {\n                                return +1;\n                            } else {\n                                return 0;\n                            }\n                        });\n                        orderedVisibleDepthNodes[depth].forEach(function (node) {\n                            parentOrder[node] = nextParentOrder++;\n                        });\n                    };\n                    for (var depth in visibleDepthNodes) {\n                        _loop(depth);\n                    }\n                    return orderedVisibleDepthNodes;\n                };\n            },\n            {}\n        ],\n        8: [\n            function (require, module, exports) {\n                'use strict';\n                var TrLayout = function () {\n                    function TrLayout(classSubgraph, classData, classColumns) {\n                        babelHelpers.classCallCheck(this, TrLayout);\n                        this.classSubgraph = classSubgraph;\n                        this.classData = classData;\n                        this.classColumns = classColumns;\n                    }\n                    // returns list of cells: list of (class id, trait id)\n                    // \tclass id = which class to take property from\n                    // returns null if row is to be skipped\n                    TrLayout.prototype.getSubtreeLayout = function getSubtreeLayout(traitSubtree) {\n                        var _this = this;\n                        var hasCloseSection = function (trait) {\n                            return trait.some(function (section) {\n                                return section[0] == 'close';\n                            });\n                        };\n                        var hasCompareSection = function (trait) {\n                            return trait.some(function (section) {\n                                return section[0] == 'compare';\n                            });\n                        };\n                        var ancestorsHaveIntegratedTrait = function (classId, traitId) {\n                            var visited = {};\n                            var walk = function (classId) {\n                                if (visited[classId])\n                                    return false;\n                                visited[classId] = true;\n                                if (getIntegratedClassesForTrait(classId, traitId).length > 0) {\n                                    return true;\n                                }\n                                for (var vpid in _this.classSubgraph.visibleParents[classId]) {\n                                    if (walk(vpid)) {\n                                        return true;\n                                    }\n                                }\n                                return false;\n                            };\n                            for (var vpid in _this.classSubgraph.visibleParents[classId]) {\n                                if (walk(vpid)) {\n                                    return true;\n                                }\n                            }\n                            return false;\n                        };\n                        var getIntegratedClassesForTrait = function (classId, traitId) {\n                            // TODO memoize?\n                            var integratedClassIds = [];\n                            var visited = {};\n                            var walk = function (id) {\n                                if (visited[id])\n                                    return;\n                                visited[id] = true;\n                                var trait = _this.classData[id].traits[traitId];\n                                if (trait) {\n                                    if (!hasCloseSection(trait) || ancestorsHaveIntegratedTrait(classId, traitId)) {\n                                        integratedClassIds.push(id);\n                                    }\n                                } else {\n                                    Object.keys(_this.classSubgraph.integratedAncestors[classId][id]).sort().forEach(walk);\n                                }\n                            };\n                            walk(classId);\n                            return integratedClassIds;\n                        };\n                        var cells = this.classColumns.map(function (classId) {\n                            var cell = [];\n                            var walkTraits = function (traitSubtree) {\n                                var traitId = traitSubtree[0];\n                                var traitChildren = traitSubtree[1];\n                                if (traitChildren) {\n                                    traitChildren.forEach(walkTraits);\n                                } else {\n                                    getIntegratedClassesForTrait(classId, traitId).forEach(function (id) {\n                                        cell.push([\n                                            id,\n                                            traitId\n                                        ]);\n                                    });\n                                }\n                            };\n                            walkTraits(traitSubtree);\n                            return cell;\n                        });\n                        // compared traits filtering\n                        var keepTraits = {};\n                        cells.forEach(function (cell) {\n                            return cell.forEach(function (classTraitId) {\n                                var classId = classTraitId[0];\n                                var traitId = classTraitId[1];\n                                var trait = _this.classData[classId].traits[traitId];\n                                if (!hasCompareSection(trait)) {\n                                    keepTraits[traitId] = true;\n                                }\n                            });\n                        });\n                        for (var i = 0; i < cells.length; i++) {\n                            cells[i] = cells[i].filter(function (classTraitId) {\n                                var traitId = classTraitId[1];\n                                return keepTraits[traitId];\n                            });\n                        }\n                        // empty row detection\n                        if (cells.some(function (cell) {\n                                return cell.length > 0;\n                            })) {\n                            return cells;\n                        } else {\n                            return null;\n                        }\n                    };\n                    return TrLayout;\n                }();\n                module.exports = TrLayout;\n            },\n            {}\n        ],\n        9: [\n            function (require, module, exports) {\n                'use strict';\n                var UnorderedClassGraph = function UnorderedClassGraph(classData, visibleClasses) {\n                    var _this = this;\n                    babelHelpers.classCallCheck(this, UnorderedClassGraph);\n                    var invertGraph = function (graph) {\n                        var igraph = {};\n                        for (var id in graph) {\n                            igraph[id] = {};\n                        }\n                        for (var _id in graph) {\n                            for (var pid in graph[_id]) {\n                                igraph[pid][_id] = true;\n                            }\n                        }\n                        return igraph;\n                    };\n                    // this.allParents and this.allChildren\n                    this.allParents = {};\n                    for (var id in classData) {\n                        this.allParents[id] = classData[id].parents;\n                    }\n                    this.allChildren = invertGraph(this.allParents);\n                    // this.visibleParents, this.visibleChildren, this.visibleDepthNodes\n                    var ancestorDistances = {};\n                    // {node:{ancestorNode:distance,...},...}; node is any node, ancestorNode is one of selectedNodes\n                    var addAncestorDistance = function (fromNode, toNode, distance) {\n                        var oldDistance = ancestorDistances[fromNode][toNode];\n                        var newDistance = oldDistance === undefined ? distance : Math.max(distance, oldDistance);\n                        ancestorDistances[fromNode][toNode] = newDistance;\n                    };\n                    var traverseNode = function (node) {\n                        if (ancestorDistances[node]) {\n                            return;    // already visited\n                        }\n                        ancestorDistances[node] = {};\n                        for (var parentNode in _this.allParents[node]) {\n                            traverseNode(parentNode);\n                            if (visibleClasses[parentNode]) {\n                                addAncestorDistance(node, parentNode, 1);\n                            }\n                            for (var ancestorNode in ancestorDistances[parentNode]) {\n                                var parentDistance = ancestorDistances[parentNode][ancestorNode];\n                                addAncestorDistance(node, ancestorNode, parentDistance + !!visibleClasses[parentNode]);\n                            }\n                        }\n                    };\n                    this.visibleDepthNodes = [];\n                    this.visibleParents = {};\n                    for (var node in visibleClasses) {\n                        traverseNode(node);\n                        var depth = 0;\n                        this.visibleParents[node] = {};\n                        for (var ancestorNode in ancestorDistances[node]) {\n                            var distance = ancestorDistances[node][ancestorNode];\n                            if (distance > depth) {\n                                depth = distance;\n                            }\n                            if (distance == 1) {\n                                this.visibleParents[node][ancestorNode] = true;\n                            }\n                        }\n                        if (this.visibleDepthNodes[depth] === undefined) {\n                            this.visibleDepthNodes[depth] = {};\n                        }\n                        this.visibleDepthNodes[depth][node] = true;\n                    }\n                    this.visibleChildren = invertGraph(this.visibleParents);\n                    // this.integratedAncestors = ancestors that are not (visible parents and/or ancestors of visible parents)\n                    this.integratedAncestors = {};\n                    var _loop = function (cid) {\n                        var masked = {};\n                        var maskAncestors = function (id) {\n                            if (masked[id])\n                                return;\n                            masked[id] = true;\n                            for (var pid in _this.allParents[id]) {\n                                maskAncestors(pid);\n                            }\n                        };\n                        for (var pid in _this.visibleParents[cid]) {\n                            maskAncestors(pid);\n                        }\n                        _this.integratedAncestors[cid] = {};\n                        var integrateAncestors = function (id) {\n                            if (_this.integratedAncestors[cid][id])\n                                return;\n                            _this.integratedAncestors[cid][id] = {};\n                            for (var _pid in _this.allParents[id]) {\n                                if (!masked[_pid]) {\n                                    _this.integratedAncestors[cid][id][_pid] = true;\n                                    integrateAncestors(_pid);\n                                }\n                            }\n                        };\n                        integrateAncestors(cid);\n                    };\n                    for (var cid in visibleClasses) {\n                        _loop(cid);\n                    }\n                };\n                module.exports = UnorderedClassGraph;\n            },\n            {}\n        ]\n    }, {}, [2]));\n}());","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict'\r\n\r\nconst dd=(a,b,n)=>{\r\n\tif (b===undefined) b='t'\r\n\tif (n===undefined) n=1\r\n\tif (n==1) {\r\n\t\treturn `\\\\frac{\\\\mathrm{d}${a}}{\\\\mathrm{d}${b}}`\r\n\t} else {\r\n\t\treturn `\\\\frac{\\\\mathrm{d}^{${n}}${a}}{\\\\mathrm{d}${b}^{${n}}}`\r\n\t}\r\n}\r\nconst dydt=dd('y')\r\nconst ddt=dd('')\r\nconst int=(fx,x)=>`\\\\int\\\\!${fx}\\\\,\\\\mathrm{d}${x}`\r\nconst sint=(fx,x)=>`\\\\int\\\\!${fx}\\\\mathrm{d}${x}`\r\nconst eqsol=(name)=>`<a href='https://en.wikipedia.org/wiki/Equilibrium_point'>${name}</a>`\r\n\r\nconst traits=[\r\n\t['entity',[\r\n\t\t['associatedHomogeneousEquation'],\r\n\t\t['characteristicEquation'],\r\n\t]],\r\n\t['property',[\r\n\t\t['isoclineProperty'],\r\n\t\t['solutionRelation',[\r\n\t\t\t['shiftSolutionRelation'],\r\n\t\t\t['linearitySolutionRelation',[ // linear and affine properties of solutions\r\n\t\t\t\t['solutionSpaceBasis'],\r\n\t\t\t\t['homogeneitySolutionRelation'],\r\n\t\t\t\t['additivitySolutionRelation'],\r\n\t\t\t\t['twoLinearCombinationSolutionRelation'],\r\n\t\t\t\t['nLinearCombinationSolutionRelation'],\r\n\t\t\t\t['twoAffineCombinationSolutionRelation'],\r\n\t\t\t\t['nAffineCombinationSolutionRelation'],\r\n\t\t\t\t['associatedSolutionRelation'],\r\n\t\t\t]]\r\n\t\t]],\r\n\t]],\r\n\t['transform',[\r\n\t\t['orderReduction'],\r\n\t]],\r\n\t['solutionMethod',[\r\n\t\t['generalSolutionMethod'],\r\n\t\t['phaseSolutionMethod'],\r\n\t\t['equilibriumSolutionMethod'],\r\n\t\t['testSolutionMethod'],\r\n\t]],\r\n]\r\n\r\n// trait entries:\r\n//\ttitle = redefine title; has to be first\r\n//\tmain\r\n//\tdetail\r\n//\tnote\r\n//\tform = have to present the equation in which this trait was defined; put after title\r\n//\tclose = children don't need to inherit this trait; display it only if parents have it displayed; put at end\r\n//\tcompare = show only if other classes have this property without compare entry; put at end\r\nconst classes={\r\n\tsn: {\r\n\t\tparents: {},\r\n\t\tname: \"system of n first-order\",\r\n\t\thtmlName: \"system of <em>n</em> first-order\",\r\n\t\timportance: 3,\r\n\t\tequation:\r\n\t\t\t`\\\\left\\\\{ \\\\begin{array}{c}`+\r\n\t\t\t\tdd(`y_1`)+` = f_1(t,y_1,…,y_n) \\\\\\\\`+\r\n\t\t\t\t`\\\\vdots \\\\\\\\`+\r\n\t\t\t\tdd(`y_n`)+` = f_n(t,y_1,…,y_n)`+\r\n\t\t\t`\\\\end{array} \\\\right.`,\r\n\t\tvectorEquation: dd(`Y`)+` = F(t,Y)`,\r\n\t\ttraits: {\r\n\t\t\ttestSolutionMethod: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t\"Can test if \\\\( Y_p \\\\) is a solution by substituting \\\\( Y = Y_p \\\\) into the equation.\",\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\ts2: {\r\n\t\tparents: {\r\n\t\t\tsn: true,\r\n\t\t},\r\n\t\tname: \"system of 2 first-order\",\r\n\t\timportance: 3,\r\n\t\tequation:\r\n\t\t\t`\\\\left\\\\{ \\\\begin{aligned}`+\r\n\t\t\t\tdd(`y`)+` &= f(t,y,v) \\\\\\\\`+\r\n\t\t\t\tdd(`v`)+` &= g(t,y,v)`+\r\n\t\t\t`\\\\end{aligned} \\\\right.`,\r\n\t\tvectorEquation: dd(`Y`)+` = F(t,Y)`,\r\n\t\ttraits: {},\r\n\t},\r\n\ts2_partlyDecoupled: {\r\n\t\tparents: {\r\n\t\t\ts2: true,\r\n\t\t},\r\n\t\tname: \"partly decoupled system of 2 first-order\",\r\n\t\timportance: 3,\r\n\t\tequation:\r\n\t\t\t`\\\\left\\\\{ \\\\begin{aligned}`+\r\n\t\t\t\tdd(`y`)+` &= f(t,y,v) \\\\\\\\`+\r\n\t\t\t\tdd(`v`)+` &= g(t,v)`+\r\n\t\t\t`\\\\end{aligned} \\\\right.`,\r\n\t\ttraits: {\r\n\t\t\tgeneralSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`Solve \\\\(${dd('v')} = g(t,v) \\\\).`,\r\n\t\t\t\t\t`Substitute \\\\( v \\\\) into \\\\( ${dd('y')} = f(t,y,v) \\\\).`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\ts2_autonomous: {\r\n\t\tparents: {\r\n\t\t\ts2: true,\r\n\t\t},\r\n\t\tname: \"system of 2 first-order autonomous\",\r\n\t\timportance: 3,\r\n\t\tequation:\r\n\t\t\t`\\\\left\\\\{ \\\\begin{aligned}`+\r\n\t\t\t\tdd(`y`)+` &= f(y,v) \\\\\\\\`+\r\n\t\t\t\tdd(`v`)+` &= g(y,v)`+\r\n\t\t\t`\\\\end{aligned} \\\\right.`,\r\n\t\tvectorEquation: dd(`Y`)+` = F(Y)`,\r\n\t\ttraits: {},\r\n\t},\r\n\tsn_sir: {\r\n\t\tparents: {\r\n\t\t\tsn: true,\r\n\t\t},\r\n\t\tname: \"SIR model\",\r\n\t\thtmlName: \"<a href='https://en.wikipedia.org/w/index.php?title=SIR_model'>SIR</a> model\",\r\n\t\timportance: 3,\r\n\t\tequation:\r\n\t\t\t`\\\\left\\\\{ \\\\begin{aligned}`+\r\n\t\t\t\tdd('S')+` &= -\\\\alpha S I \\\\\\\\`+\r\n\t\t\t\tdd('I')+` &= \\\\alpha S I - \\\\beta I \\\\\\\\ `+\r\n\t\t\t\tdd('R')+` &= \\\\beta I`+\r\n\t\t\t`\\\\end{aligned} \\\\right.`,\r\n\t\tequationNotes: [\r\n\t\t\t`\\\\( S = \\\\) number susceptible`,\r\n\t\t\t`\\\\( I = \\\\) number infectious`,\r\n\t\t\t`\\\\( R = \\\\) number recovered (immune)`,\r\n\t\t\t`\\\\( \\\\alpha = \\\\) contact rate`,\r\n\t\t\t`\\\\( \\\\beta = \\\\) recovery rate`,\r\n\t\t\t`all quantities are nonnegative`,\r\n\t\t],\r\n\t\ttraits: {\r\n\t\t\tphaseSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`threshold value \\\\( \\\\rho = \\\\frac\\\\beta\\\\alpha \\\\):`,\r\n\t\t\t\t\t`\\\\( I \\\\) increases when \\\\( S &gt; \\\\rho \\\\)`,\r\n\t\t\t\t\t`\\\\( S \\\\) decreases`,\r\n\t\t\t\t\t`\\\\( I \\\\) attains its maximum when \\\\( S = \\\\rho \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ ${dd('S')} + ${dd('I')} + ${dd('R')} = 0 \\\\]`,\r\n\t\t\t\t\t`total population \\\\( N \\\\) is constant`,\r\n\t\t\t\t\t`\\\\[ S + I + R = N \\\\]`,\r\n\t\t\t\t\t`eliminate \\\\( R \\\\)`,\r\n\t\t\t\t\t`\\\\[ \\\\left\\\\{ \\\\begin{aligned}`+\r\n\t\t\t\t\t\tdd('S')+` &= -\\\\alpha S I \\\\\\\\`+\r\n\t\t\t\t\t\tdd('I')+` &= \\\\alpha S I - \\\\beta I \\\\\\\\ `+\r\n\t\t\t\t\t`\\\\end{aligned} \\\\right. \\\\]`,\r\n\t\t\t\t\t`\\\\[ ${dd('I','S')} = \\\\frac{\\\\alpha S I - \\\\beta I}{-\\\\alpha S I} = -1 + \\\\frac{\\\\rho}{S} \\\\]`,\r\n\t\t\t\t\t`integrate by \\\\( S \\\\)`,\r\n\t\t\t\t\t`\\\\[ I = -S + \\\\rho \\\\ln S + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`conserved quantities:`,\r\n\t\t\t\t\t`\\\\[ \\\\begin{multline}`+\r\n\t\t\t\t\t\t`S(t) + I(t) + R(t) = \\\\\\\\`+\r\n\t\t\t\t\t\t`= S(0) + I(0) + R(0)`+\r\n\t\t\t\t\t`\\\\end{multline} \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\begin{multline}`+\r\n\t\t\t\t\t\t`I(t) + S(t) - \\\\rho \\\\ln S(t) = \\\\\\\\`+\r\n\t\t\t\t\t\t`= I(0) + S(0) - \\\\rho \\\\ln S(0)`+\r\n\t\t\t\t\t`\\\\end{multline} \\\\]`,\r\n\t\t\t\t\t`maximum of \\\\( I \\\\):`,\r\n\t\t\t\t\t`\\\\[ \\\\begin{multline}`+\r\n\t\t\t\t\t\t`I_{max} + \\\\rho - \\\\rho \\\\ln \\\\rho = \\\\\\\\`+\r\n\t\t\t\t\t\t`= I(0) + S(0) - \\\\rho \\\\ln S(0)`+\r\n\t\t\t\t\t`\\\\end{multline} \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tequilibriumSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ I = 0 \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\ton: {\r\n\t\tparents: {},\r\n\t\tname: \"nth-order\",\r\n\t\thtmlName: \"<em>n</em>th-order\",\r\n\t\timportance: 2,\r\n\t\tequation: `${dd('y','t','n')} = f(t,y,${dydt},...,${dd('y','t','n-1')})`,\r\n\t\ttraits: {\r\n\t\t\ttestSolutionMethod: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t\"Can test if \\\\( y_p \\\\) is a solution by substituting \\\\( y = y_p \\\\) into the equation.\",\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t}\r\n\t},\r\n\ton_linearHomogeneousConstant: {\r\n\t\tparents: {\r\n\t\t\ton: true,\r\n\t\t},\r\n\t\tname: \"nth-order linear homogeneous with constant coefficients\",\r\n\t\thtmlName: \"<em>n</em>th-order <a href='https://en.wikipedia.org/wiki/Linear_differential_equation#Homogeneous_equations_with_constant_coefficients'>linear homogeneous with constant coefficients</a>\",\r\n\t\timportance: 2,\r\n\t\t//equation: `y^{(n)} = - \\\\tfrac{a_{n-1}}{a_n} y^{(n-1)} - \\\\cdots - \\\\tfrac{a_1}{a_n} y' - \\\\tfrac{a_0}{a_n} y`,\r\n\t\tequation: `${dd('y','t','n')} = - \\\\sum_{i=0}^{n-1} \\\\frac{a_i}{a_n} ${dd('y','t','i')}`,\r\n\t\tequationNotes: [\r\n\t\t\t`usually written as \\\\( \\\\sum_{i=0}^n a_i ${dd('y','t','i')} = 0 \\\\)`,\r\n\t\t],\r\n\t\ttraits: {\r\n\t\t\tcharacteristicEquation: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ \\\\sum_{i=0}^n a_i ${dd('y','t','i')} = 0 \\\\]`,\r\n\t\t\t\t\t`substitute \\\\( y = e^{\\\\lambda t} \\\\)`,\r\n\t\t\t\t\t`\\\\[ \\\\sum_{i=0}^n a_i ${dd('','t','i')} e^{\\\\lambda t} = 0 \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\sum_{i=0}^n a_i \\\\lambda^i e^{\\\\lambda t} = 0 \\\\]`,\r\n\t\t\t\t\t`divide by \\\\( e^{\\\\lambda t} \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ \\\\sum_{i=0}^n a_i \\\\lambda^i = 0 \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to1: {\r\n\t\tparents: {\r\n\t\t\tsn: true,\r\n\t\t\ton: true,\r\n\t\t},\r\n\t\tname: \"first-order\",\r\n\t\timportance: 0,\r\n\t\tequation: `${dydt} = f(t,y)`,\r\n\t\ttraits: {\r\n\t\t\ttestSolutionMethod: [ // same as in 'on', done to mask 'sn's trait\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t\"Can test if \\\\( y_p \\\\) is a solution by substituting \\\\( y = y_p \\\\) into the equation.\",\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to1_separable: {\r\n\t\tparents: {\r\n\t\t\to1: true,\r\n\t\t},\r\n\t\tname: \"first-order separable\",\r\n\t\thtmlName: \"first-order <a href='https://en.wikipedia.org/wiki/Separation_of_variables#Ordinary_differential_equations_.28ODE.29'>separable</a>\",\r\n\t\timportance: 1,\r\n\t\tequation: `${dydt} = f_1(t) \\\\cdot f_2(y)`,\r\n\t\ttraits: {\r\n\t\t\tgeneralSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ ${dydt} = f_1(t) \\\\cdot f_2(y) \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\frac{1}{f_2(y)} \\\\cdot ${dydt} = f_1(t) \\\\]`,\r\n\t\t\t\t\t`\\\\[ ${int(`\\\\frac{1}{f_2(y)} ${dydt}`,'t')} = ${int('f_1(t)','t')} + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ ${int(`\\\\frac{1}{f_2(y)}`,'y')} = ${int('f_1(t)','t')} + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['note',[\r\n\t\t\t\t\t`this may or may not include ${eqsol(\"equilibrium solutions\")}`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tequilibriumSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`solve \\\\( f_2(y) = 0 \\\\) for constant \\\\( y \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t\t//`domain is not necessary \\\\( -\\\\infty &lt; t &lt; +\\\\infty \\\\)`\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to1_autonomous: {\r\n\t\tparents: {\r\n\t\t\to1_separable: true,\r\n\t\t},\r\n\t\tname: \"first-order autonomous\",\r\n\t\thtmlName: \"first-order <a href='https://en.wikipedia.org/wiki/Autonomous_system_%28mathematics%29'>autonomous</a>\",\r\n\t\timportance: 1,\r\n\t\tequation: `${dydt} = f(y)`,\r\n\t\ttraits: {\r\n\t\t\tisoclineProperty: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t\"isoclines are horizontal\",\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tshiftSolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t\"If \\\\( y_p(t) \\\\) is a solution, then \\\\( y_p(t+C) \\\\) is a solution\",\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tgeneralSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ ${dydt} = f(y) \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\frac{1}{f(y)} \\\\cdot ${dydt} = 1 \\\\]`,\r\n\t\t\t\t\t`\\\\[ ${int(`\\\\frac{1}{f(y)} ${dydt}`,'t')} = ${int('1','t')} + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ ${int(`\\\\frac{1}{f(y)}`,'y')} = t + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['note',[\r\n\t\t\t\t\t`this may or may not include ${eqsol(\"equilibrium solutions\")}`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tequilibriumSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`solve \\\\( f(y) = 0 \\\\) for constant \\\\( y \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t\t//`domain is \\\\( -\\\\infty &lt; t &lt; +\\\\infty \\\\)` // only if f(y) is continuous\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to1_bernoulli: {\r\n\t\tparents: {\r\n\t\t\to1: true,\r\n\t\t},\r\n\t\tname: \"Bernoulli\",\r\n\t\thtmlName: \"<a href='https://en.wikipedia.org/wiki/Bernoulli_differential_equation'>Bernoulli</a>\",\r\n\t\timportance: 2,\r\n\t\tequation: `${dydt} = a(t) \\\\cdot y + b(t) \\\\cdot y^n`,\r\n\t\tequationNotes: [\r\n\t\t\t`\\\\( n ≠ 1 \\\\)`,\r\n\t\t\t`usually it's also defined that additionally \\\\( n ≠ 0 \\\\), but we ignore this requirement here`,\r\n\t\t],\r\n\t\ttraits: {\r\n\t\t\tgeneralSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ ${dydt} = a(t) \\\\cdot y + b(t) \\\\cdot y^n \\\\]`,\r\n\t\t\t\t\t`multiply the equation by \\\\( \\\\frac{1-n}{y^n} \\\\)`,\r\n\t\t\t\t\t`\\\\[ \\\\frac{1-n}{y^n} ${dydt} = \\\\cdots \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\cdots = \\\\frac{(1-n) a(t)}{y^{n-1}} + (1-n) b(t) \\\\]`,\r\n\t\t\t\t\t`introduce a new variable`,\r\n\t\t\t\t\t`\\\\[ z = \\\\frac{1}{y^{n-1}} \\\\]`,\r\n\t\t\t\t\t`\\\\[ ${dd('z')} = ${dd('z','y')} ${dydt} = \\\\frac{1-n}{y^n} ${dydt} \\\\]`,\r\n\t\t\t\t\t`substitute \\\\( z \\\\) and \\\\( ${dd('z')} \\\\) into the equation`,\r\n\t\t\t\t\t`\\\\[ ${dd('z')} = (1-n) a(t) z + (1-n) b(t) \\\\]`,\r\n\t\t\t\t\t`solve this equation as a linear equation in \\\\( z \\\\), then return to the original variable \\\\( y \\\\)`,\r\n\t\t\t\t\t`\\\\[ \\\\mu(t) z = (1-n) ${int('\\\\mu(t) b(t)','t')} + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ \\\\mu(t) = e^{(n-1)${sint('a(t)','t')}} \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\frac{\\\\mu(t)}{y^{n-1}} = (1-n) ${int('\\\\mu(t) b(t)','t')} + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['note',[\r\n\t\t\t\t\t`this may or may not include ${eqsol(\"equilibrium solutions\")}`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tequilibriumSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`if \\\\( n>0 \\\\), there's an equilibrium solution \\\\( y(t) = 0 \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to1_linear: {\r\n\t\tparents: {\r\n\t\t\to1_bernoulli: true,\r\n\t\t},\r\n\t\tname: \"first-order linear\",\r\n\t\thtmlName: \"first-order <a href='https://en.wikipedia.org/wiki/Linear_differential_equation'>linear</a>\",\r\n\t\timportance: 1,\r\n\t\tequation: `${dydt} = a(t) \\\\cdot y + b(t)`,\r\n\t\ttraits: {\r\n\t\t\tassociatedHomogeneousEquation: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\( ${dydt} = a(t) \\\\cdot y \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tsolutionSpaceBasis: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_p \\\\) is a solution`,\r\n\t\t\t\t\t`and \\\\( y_h \\\\) is a nonzero solution of the associated homogeneous equation`,\r\n\t\t\t\t\t`then \\\\( K y_h + y_p \\\\) is a general solution.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\thomogeneitySolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_0 \\\\) and \\\\( y_1 \\\\) are solutions,`,\r\n\t\t\t\t\t`then \\\\( K_1 y_1 + (1 - K_1) y_0 \\\\) is a solution.`,\r\n\t\t\t\t]],\r\n\t\t\t\t['compare'],\r\n\t\t\t],\r\n\t\t\tadditivitySolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_0 \\\\), \\\\( y_1 \\\\) and \\\\( y_2 \\\\) are solutions,`,\r\n\t\t\t\t\t`then \\\\( y_1 + y_2 - y_0 \\\\) is a solution.`,\r\n\t\t\t\t]],\r\n\t\t\t\t['compare'],\r\n\t\t\t],\r\n\t\t\ttwoLinearCombinationSolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_0 \\\\), \\\\( y_1 \\\\) and \\\\( y_2 \\\\) are solutions,`,\r\n\t\t\t\t\t`then \\\\( K_1 y_1 + K_2 y_2 + (1 - K_1 - K_2) y_0 \\\\) is a solution.`,\r\n\t\t\t\t]],\r\n\t\t\t\t['compare'],\r\n\t\t\t],\r\n\t\t\tnLinearCombinationSolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_0 \\\\), \\\\( y_1 \\\\), \\\\( y_2 \\\\), ..., \\\\( y_m \\\\) are solutions,`,\r\n\t\t\t\t\t`then \\\\( \\\\sum\\\\limits_{i=1}^m K_i y_i + (1 - \\\\sum\\\\limits_{i=1}^m K_i) y_0 \\\\) is a solution.`,\r\n\t\t\t\t]],\r\n\t\t\t\t['compare'],\r\n\t\t\t],\r\n\t\t\ttwoAffineCombinationSolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_1 \\\\), \\\\( y_2 \\\\) are solutions`,\r\n\t\t\t\t\t`and \\\\( K_1 + K_2 = 1 \\\\)`,\r\n\t\t\t\t\t`then \\\\( K_1 y_1 + K_2 y_2 \\\\) is a solution.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tnAffineCombinationSolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_1 \\\\), \\\\( y_2 \\\\), ..., \\\\( y_m \\\\) are solutions`,\r\n\t\t\t\t\t`and \\\\( \\\\sum\\\\limits_{i=1}^m K_i = 1 \\\\)`,\r\n\t\t\t\t\t`then \\\\( \\\\sum\\\\limits_{i=1}^m K_i y_i \\\\) is a solution.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tassociatedSolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_1 \\\\) and \\\\( y_2 \\\\) are solutions,`,\r\n\t\t\t\t\t`then \\\\( y_1 - y_2 \\\\) is a solution of the associated homogeneous equation.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tgeneralSolutionMethod: [\r\n\t\t\t\t['title',[\r\n\t\t\t\t\t\"Solutions found with method of <a href='https://en.wikipedia.org/wiki/Integrating_factor'>integrating factors</a>\",\r\n\t\t\t\t]],\r\n\t\t\t\t['form'],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ ${dydt} = a(t) \\\\cdot y + b(t) \\\\]`,\r\n\t\t\t\t\t`introduce a new function`,\r\n\t\t\t\t\t`\\\\[ g(t) = -a(t) \\\\]`,\r\n\t\t\t\t\t`rewrite the equation with \\\\( g(t) \\\\)`,\r\n\t\t\t\t\t`\\\\[ ${dydt} + g(t) \\\\cdot y = b(t) \\\\]`,\r\n\t\t\t\t\t`introduce the integrating factor`,\r\n\t\t\t\t\t`\\\\[ \\\\mu(t) = e^{${sint('g(t)','t')}} \\\\]`,\r\n\t\t\t\t\t`multiply the equation by \\\\( \\\\mu(t) \\\\)`,\r\n\t\t\t\t\t`\\\\[ \\\\mu(t) ${dydt} + \\\\mu(t) g(t) y = \\\\mu(t) b(t) \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\mu(t) ${dydt} + e^{${sint('g(t)','t')}} g(t) y = \\\\mu(t) b(t) \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\mu(t) ${dydt} + ${ddt}(e^{${sint('g(t)','t')}}) y = \\\\mu(t) b(t) \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\mu(t) ${dydt} + ${ddt}(\\\\mu(t)) y = \\\\mu(t) b(t) \\\\]`,\r\n\t\t\t\t\t`\\\\[ ${ddt}(\\\\mu(t) y) = \\\\mu(t) b(t) \\\\]`,\r\n\t\t\t\t\t`integrate the equation multiplied by \\\\( \\\\mu(t) \\\\)`,\r\n\t\t\t\t\t`\\\\[ \\\\mu(t) y = ${int('\\\\mu(t) b(t)','t')} + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ \\\\mu(t) = e^{-${sint('a(t)','t')}} \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\mu(t) y = ${int('\\\\mu(t) b(t)','t')} + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tequilibriumSolutionMethod: [\r\n\t\t\t\t['note',[\r\n\t\t\t\t\t`Can't find equilibrium solution like in Bernoulli equation because \\\\( n = 0 \\\\).`,\r\n\t\t\t\t]],\r\n\t\t\t\t['close'],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to1_linearHomogeneous: {\r\n\t\tparents: {\r\n\t\t\to1_separable: true,\r\n\t\t\to1_linear: true,\r\n\t\t},\r\n\t\tname: \"first-order linear homogeneous\",\r\n\t\thtmlName: \"first-order <a href='https://en.wikipedia.org/wiki/Linear_differential_equation'>linear</a> <a href='https://en.wikipedia.org/wiki/Homogeneous_differential_equation#Homogeneous_linear_differential_equations'>homogeneous</a>\",\r\n\t\timportance: 1,\r\n\t\tequation: `${dydt} = a(t) \\\\cdot y`,\r\n\t\ttraits: {\r\n\t\t\tassociatedHomogeneousEquation: [\r\n\t\t\t\t['note',[\r\n\t\t\t\t\t`The equation is associated with itself.`\r\n\t\t\t\t]],\r\n\t\t\t\t['close'],\r\n\t\t\t],\r\n\t\t\tsolutionSpaceBasis: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_h \\\\) is a nonzero solution,`,\r\n\t\t\t\t\t`then \\\\( K y_h \\\\) is a general solution.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\thomogeneitySolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_1 \\\\) is a solution,`,\r\n\t\t\t\t\t`then \\\\( K_1 y_1 \\\\) is a solution.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tadditivitySolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_1 \\\\) and \\\\( y_2 \\\\) are solutions,`,\r\n\t\t\t\t\t`then \\\\( y_1 + y_2 \\\\) is a solution.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\ttwoLinearCombinationSolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_1 \\\\) and \\\\( y_2 \\\\) are solutions,`,\r\n\t\t\t\t\t`then \\\\( K_1 y_1 + K_2 y_2 \\\\) is a solution.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tnLinearCombinationSolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_1 \\\\), \\\\( y_2 \\\\), ..., \\\\( y_m \\\\) are solutions,`,\r\n\t\t\t\t\t`then \\\\( \\\\sum\\\\limits_{i=1}^m K_i y_i \\\\) is a solution.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\ttwoAffineCombinationSolutionRelation: [\r\n\t\t\t\t['note',[\r\n\t\t\t\t\t`This is a special case of a linear combination.`,\r\n\t\t\t\t]],\r\n\t\t\t\t['close'],\r\n\t\t\t],\r\n\t\t\tnAffineCombinationSolutionRelation: [\r\n\t\t\t\t['note',[\r\n\t\t\t\t\t`This is a special case of a linear combination.`,\r\n\t\t\t\t]],\r\n\t\t\t\t['close'],\r\n\t\t\t],\r\n\t\t\tassociatedSolutionRelation: [\r\n\t\t\t\t['close'],\r\n\t\t\t],\r\n\t\t\tgeneralSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ ${dydt} = a(t) \\\\cdot y \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\frac{1}{y} \\\\cdot ${dydt} = a(t) \\\\]`,\r\n\t\t\t\t\t`\\\\[ ${int(`\\\\frac{1}{y} ${dydt}`,'t')} = ${int('a(t)','t')} + C \\\\]`,\r\n\t\t\t\t\t`\\\\[ ${int(`\\\\frac{1}{y}`,'y')} = ${int('a(t)','t')} + C \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\ln|y| = ${int('a(t)','t')} + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ y = K \\\\cdot e^{${sint('a(t)','t')}} \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['note',[\r\n\t\t\t\t\t`includes ${eqsol(\"equilibrium solution\")} when \\\\( K = 0 \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tequilibriumSolutionMethod: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ y = 0 \\\\]`\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to1_separableInT: {\r\n\t\tparents: {\r\n\t\t\to1_separable: true,\r\n\t\t\to1_linear: true,\r\n\t\t},\r\n\t\tname: \"first-order separable in independent variable\",\r\n\t\thtmlName: \"first-order <a href='https://en.wikipedia.org/wiki/Separation_of_variables#Ordinary_differential_equations_.28ODE.29'>separable</a> in \\\\(t\\\\)\",\r\n\t\timportance: 2,\r\n\t\tequation: `${dydt} = f(t)`,\r\n\t\ttraits: {\r\n\t\t\tassociatedHomogeneousEquation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\( ${dydt} = 0 \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tisoclineProperty: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t\"isoclines are vertical\",\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tsolutionSpaceBasis: [ // also shiftSolutionRelation\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`If \\\\( y_p \\\\) is a solution`,\r\n\t\t\t\t\t`then \\\\( y_p + C \\\\) is a general solution.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tassociatedSolutionRelation: [\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\( y = C \\\\) is a solution of the associated homogeneous equation.`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tgeneralSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ ${dydt} = f(t) \\\\]`,\r\n\t\t\t\t\t`\\\\[ ${int(`${dydt}`,'t')} = ${int('f(t)','t')} + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ y = ${int('f(t)','t')} + C \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tequilibriumSolutionMethod: [\r\n\t\t\t\t['note',[\r\n\t\t\t\t\t`Can't find equilibrium solution like in separable equation because \\\\( f_2(y) = 1 \\\\).`,\r\n\t\t\t\t]],\r\n\t\t\t\t['close'],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to1_expGrowth: {\r\n\t\tparents: {\r\n\t\t\ton_linearHomogeneousConstant: true,\r\n\t\t\to1_autonomous: true,\r\n\t\t\to1_linearHomogeneous: true,\r\n\t\t},\r\n\t\tname: \"first-order linear homogeneous with constant coefficients (exponential growth)\",\r\n\t\thtmlName: \"first-order <a href='https://en.wikipedia.org/wiki/Linear_differential_equation#Homogeneous_equations_with_constant_coefficients'>linear homogeneous with constant coefficients</a> (<a href='https://en.wikipedia.org/wiki/Exponential_growth#Differential_equation'>exponential growth</a>)\",\r\n\t\timportance: 2,\r\n\t\tequation: `${dydt} = k \\\\cdot y`,\r\n\t\ttraits: {\r\n\t\t\tcharacteristicEquation: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ ${dydt} = k \\\\cdot y \\\\]`,\r\n\t\t\t\t\t`substitute \\\\( y = e^{\\\\lambda t} \\\\)`,\r\n\t\t\t\t\t`\\\\[ ${ddt} e^{\\\\lambda t} = k \\\\cdot e^{\\\\lambda t} \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\lambda \\\\cdot e^{\\\\lambda t} = k \\\\cdot e^{\\\\lambda t} \\\\]`,\r\n\t\t\t\t\t`divide by \\\\( e^{\\\\lambda t} \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ \\\\lambda = k \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tgeneralSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ ${dydt} = k \\\\cdot y \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\frac{1}{y} \\\\cdot ${dydt} = k \\\\]`,\r\n\t\t\t\t\t`\\\\[ ${int(`\\\\frac{1}{y} ${dydt}`,'t')} = ${int('k','t')} + C \\\\]`,\r\n\t\t\t\t\t`\\\\[ ${int(`\\\\frac{1}{y}`,'y')} = ${int('k','t')} + C \\\\]`,\r\n\t\t\t\t\t`\\\\[ \\\\ln|y| = kt + C \\\\]`,\r\n\t\t\t\t\t`\\\\[ y(t) = C_1 e^{kt} \\\\]`,\r\n\t\t\t\t\t`\\\\[ y(0) = C_1 e^0 \\\\]`,\r\n\t\t\t\t\t`\\\\[ C_1 = y(0) \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ y(t) = y(0) e^{kt} \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t\t['note',[\r\n\t\t\t\t\t`includes ${eqsol(\"equilibrium solution\")} when \\\\( y(0) = 0 \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\tequilibriumSolutionMethod: [ // TODO could have inherited from linear homogeneous, but have to override autonomous\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ y = 0 \\\\]`\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to1_logisticGrowth: {\r\n\t\tparents: {\r\n\t\t\to1_autonomous: true,\r\n\t\t\to1_bernoulli: true,\r\n\t\t},\r\n\t\tname: \"logistic growth\",\r\n\t\thtmlName: \"<a href='https://en.wikipedia.org/wiki/Logistic_function#In_ecology:_modeling_population_growth'>logistic growth</a>\",\r\n\t\timportance: 2,\r\n\t\tequation: `${dydt} = r \\\\cdot y \\\\cdot \\\\left(1 - \\\\frac{y}{k}\\\\right)`,\r\n\t\tequationNotes: [\r\n\t\t\t`\\\\( k \\\\) is the <a href='https://en.wikipedia.org/wiki/Carrying_capacity'>carrying capacity</a>`,\r\n\t\t],\r\n\t\ttraits: {\r\n\t\t\tequilibriumSolutionMethod: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ y = 0 \\\\]`,\r\n\t\t\t\t\t`\\\\[ y = k \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to2: {\r\n\t\tparents: {\r\n\t\t\ton: true,\r\n\t\t},\r\n\t\tname: \"second-order\",\r\n\t\timportance: 2,\r\n\t\tequation: `${dd('y','t','2')} = f(t,y,${dydt})`,\r\n\t\ttraits: {\r\n\t\t\torderReduction: [\r\n\t\t\t\t['title',[\r\n\t\t\t\t\t\"Order reduction to a system of 2 first-order equations\",\r\n\t\t\t\t]],\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t\"transform to a system of 2 first-order equations\",\r\n\t\t\t\t\t`\\\\[ \\\\left\\\\{ \\\\begin{aligned}`+\r\n\t\t\t\t\t\tdd(`y`)+` &= v \\\\\\\\`+\r\n\t\t\t\t\t\tdd(`v`)+` &= f(t,y,v)`+\r\n\t\t\t\t\t`\\\\end{aligned} \\\\right. \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to2_autonomous: {\r\n\t\tparents: {\r\n\t\t\to2: true,\r\n\t\t},\r\n\t\tname: \"second-order autonomous\",\r\n\t\thtmlName: \"second-order <a href='https://en.wikipedia.org/wiki/Autonomous_system_%28mathematics%29'>autonomous</a>\",\r\n\t\timportance: 2,\r\n\t\tequation: `${dd('y','t','2')} = f(y,${dydt})`,\r\n\t\ttraits: {\r\n\t\t\torderReduction: [\r\n\t\t\t\t['title',[\r\n\t\t\t\t\t\"Order reduction to a system of 2 first-order autonomous equations\",\r\n\t\t\t\t]],\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ \\\\left\\\\{ \\\\begin{aligned}`+\r\n\t\t\t\t\t\tdd(`y`)+` &= v \\\\\\\\`+\r\n\t\t\t\t\t\tdd(`v`)+` &= f(y,v)`+\r\n\t\t\t\t\t`\\\\end{aligned} \\\\right. \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to2_linearHomogeneousConstant: {\r\n\t\tparents: {\r\n\t\t\ton_linearHomogeneousConstant: true,\r\n\t\t\to2_autonomous: true,\r\n\t\t},\r\n\t\tname: \"second-order linear homogeneous with constant coefficients\",\r\n\t\thtmlName: \"second-order <a href='https://en.wikipedia.org/wiki/Linear_differential_equation#Homogeneous_equations_with_constant_coefficients'>linear homogeneous with constant coefficients</a>\",\r\n\t\timportance: 2,\r\n\t\tequation: `${dd('y','t','2')} = - \\\\frac b a ${dydt} - \\\\frac c a y`,\r\n\t\tequationNotes: [\r\n\t\t\t`usually written as \\\\( a ${dd('y','t','2')} + b ${dydt} + c y = 0 \\\\)`,\r\n\t\t],\r\n\t\ttraits: {\r\n\t\t\tcharacteristicEquation: [\r\n\t\t\t\t['form'],\r\n\t\t\t\t['detail',[\r\n\t\t\t\t\t`\\\\[ a ${dd('y','t','2')} + b ${dydt} + c y = 0 \\\\]`,\r\n\t\t\t\t\t`substitute \\\\( y = e^{\\\\lambda t} \\\\)`,\r\n\t\t\t\t\t`\\\\[ a ${dd('','t','2')} e^{\\\\lambda t} + b ${ddt} e^{\\\\lambda t} + c e^{\\\\lambda t} = 0 \\\\]`,\r\n\t\t\t\t\t`\\\\[ a \\\\lambda^2 e^{\\\\lambda t} + b \\\\lambda e^{\\\\lambda t} + c e^{\\\\lambda t} = 0 \\\\]`,\r\n\t\t\t\t\t`divide by \\\\( e^{\\\\lambda t} \\\\)`,\r\n\t\t\t\t]],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ a \\\\lambda^2 + b \\\\lambda + c = 0 \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t\torderReduction: [\r\n\t\t\t\t['title',[\r\n\t\t\t\t\t\"Order reduction to a system of 2 first-order linear homogeneous equations with constant coefficients\",\r\n\t\t\t\t]],\r\n\t\t\t\t['form'],\r\n\t\t\t\t['main',[\r\n\t\t\t\t\t`\\\\[ \\\\left\\\\{ \\\\begin{aligned}`+\r\n\t\t\t\t\t\tdd(`y`)+` &= v \\\\\\\\`+\r\n\t\t\t\t\t\tdd(`v`)+` &= - \\\\frac c a y - \\\\frac b a v`+\r\n\t\t\t\t\t`\\\\end{aligned} \\\\right. \\\\]`,\r\n\t\t\t\t]],\r\n\t\t\t],\r\n\t\t},\r\n\t},\r\n\to2_vanDerPol: {\r\n\t\tparents: {\r\n\t\t\to2_autonomous: true,\r\n\t\t},\r\n\t\tname: \"Van der Pol\",\r\n\t\thtmlName: \"<a href='https://en.wikipedia.org/wiki/Van_der_Pol_oscillator'>Van der Pol</a>\",\r\n\t\timportance: 3,\r\n\t\tequation: `${dd('y','t','2')} = \\\\mu(1-y^2)${dydt} - y`,\r\n\t\ttraits: {},\r\n\t},\r\n\to2_unforcedDuffing: {\r\n\t\tparents: {\r\n\t\t\to2_autonomous: true,\r\n\t\t},\r\n\t\tname: \"unforced Duffing\",\r\n\t\thtmlName: \"unforced <a href='https://en.wikipedia.org/wiki/Duffing_equation'>Duffing</a>\",\r\n\t\timportance: 3,\r\n\t\tequation: `${dd('y','t','2')} = - \\\\delta ${dydt} - \\\\alpha y - \\\\beta y^3`,\r\n\t\ttraits: {},\r\n\t},\r\n\to2_harmonicOscillator: {\r\n\t\tparents: {\r\n\t\t\to2_autonomous: true,\r\n\t\t},\r\n\t\tname: \"harmonic oscillator\",\r\n\t\thtmlName: \"<a href='https://en.wikipedia.org/wiki/Harmonic_oscillator#Damped_harmonic_oscillator'>harmonic oscillator</a>\",\r\n\t\timportance: 3,\r\n\t\tequation: `${dd('y','t','2')} = - \\\\frac{b}{m} ${dydt} - \\\\frac{k}{m} y`,\r\n\t\tequationNotes: [\r\n\t\t\t`\\\\(m\\\\) is the mass`,\r\n\t\t\t`\\\\(b\\\\) is the viscous damping coefficient`,\r\n\t\t\t`\\\\(k\\\\) is the spring constant`,\r\n\t\t],\r\n\t\ttraits: {},\r\n\t},\r\n\to2_simpleHarmonicOscillator: {\r\n\t\tparents: {\r\n\t\t\to2_harmonicOscillator: true,\r\n\t\t},\r\n\t\tname: \"simple harmonic oscillator\",\r\n\t\thtmlName: \"<a href='https://en.wikipedia.org/wiki/Harmonic_oscillator#Simple_harmonic_oscillator'>simple harmonic oscillator</a>\",\r\n\t\timportance: 3,\r\n\t\tequation: `${dd('y','t','2')} = - \\\\frac{k}{m} y`,\r\n\t\tequationNotes: [\r\n\t\t\t`\\\\(m\\\\) is the mass`,\r\n\t\t\t`\\\\(k\\\\) is the spring constant`,\r\n\t\t],\r\n\t\ttraits: {},\r\n\t},\r\n}\r\n\r\nmodule.exports={traits,classes}\r\n","'use strict'\r\n\r\nconst UnorderedClassSubgraph=require('./unordered-class-subgraph')\r\nconst OrderedClassSubgraph=require('./ordered-class-subgraph')\r\nconst TheadLayout=require('./thead-layout')\r\nconst TrLayout=require('./tr-layout')\r\nconst data=require('./data')\r\n\r\nconst i18n=(id)=>{\r\n\tconst strings={\r\n\t\t'trait.entity': \"Associated entities\",\r\n\t\t'trait.associatedHomogeneousEquation': \"Associated homogeneous equation\",\r\n\t\t'trait.characteristicEquation': \"<a href='https://en.wikipedia.org/wiki/Characteristic_equation_(calculus)'>Characteristic equation</a>\",\r\n\r\n\t\t'trait.property': \"Properties\",\r\n\t\t'trait.isoclineProperty': \"Property of <a href='https://en.wikipedia.org/wiki/Isocline'>isoclines</a>\",\r\n\t\t'trait.solutionRelation': \"Solution relation properties\",\r\n\t\t'trait.shiftSolutionRelation': \"Time/value shifts of solutions\",\r\n\t\t'trait.linearitySolutionRelation': \"Linear/affine properties of solutions\",\r\n\t\t'trait.solutionSpaceBasis': \"Basis of the solution space\",\r\n\t\t'trait.homogeneitySolutionRelation': \"Homogeneity of solutions\",\r\n\t\t'trait.additivitySolutionRelation': \"Additivity of solutions\",\r\n\t\t'trait.twoLinearCombinationSolutionRelation': \"<a href='https://en.wikipedia.org/wiki/Linear_combination'>Linear combination</a> property of solutions\",\r\n\t\t'trait.nLinearCombinationSolutionRelation': \"<a href='https://en.wikipedia.org/wiki/Linear_combination'>Linear combination</a> property of solutions\",\r\n\t\t'trait.twoAffineCombinationSolutionRelation': \"<a href='https://en.wikipedia.org/wiki/Affine_combination'>Affine combination</a> property of solutions\",\r\n\t\t'trait.nAffineCombinationSolutionRelation': \"<a href='https://en.wikipedia.org/wiki/Affine_combination'>Affine combination</a> property of solutions\",\r\n\t\t'trait.associatedSolutionRelation': \"Associated homogeneous equation solution\",\r\n\r\n\t\t'trait.transform': \"Transforms to different types\",\r\n\t\t'trait.orderReduction': \"Order reduction\",\r\n\r\n\t\t'trait.solutionMethod': \"Solutions\",\r\n\t\t'trait.generalSolutionMethod': \"General solution\",\r\n\t\t'trait.phaseSolutionMethod': \"<a href='https://en.wikipedia.org/wiki/Phase_space'>Phase space</a> trajectory\",\r\n\t\t'trait.equilibriumSolutionMethod': \"<a href='https://en.wikipedia.org/wiki/Equilibrium_point'>Equilibrium solutions</a>\",\r\n\t\t'trait.testSolutionMethod': \"Solution testing\",\r\n\t}\r\n\treturn strings[id]\r\n}\r\n\r\n$(function(){\r\n\t$('.crnx-ode-properties').each(function(){\r\n\t\tconst $container=$(this)\r\n\t\tconst selectedNodes={} // visible nodes // TODO rename to visibleNodes\r\n\t\tlet traitAlignmentLevel=1\r\n\t\tconst maxTraitAlignmentLevel=4\r\n\t\tfor (let id in data.classes) {\r\n\t\t\tif (data.classes[id].importance<=1) {\r\n\t\t\t\tselectedNodes[id]=true\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst getHtmlName=id=>(data.classes[id].htmlName!==undefined\r\n\t\t\t? data.classes[id].htmlName\r\n\t\t\t: data.classes[id].name\r\n\t\t)\r\n\r\n\t\tlet unorderedClassSubgraph,theadLayout,orderedClassSubgraph,trLayout\r\n\t\tconst recomputeLayouts=()=>{\r\n\t\t\tunorderedClassSubgraph=new UnorderedClassSubgraph(data.classes,selectedNodes)\r\n\t\t\ttheadLayout=new TheadLayout(unorderedClassSubgraph)\r\n\t\t\torderedClassSubgraph=new OrderedClassSubgraph(unorderedClassSubgraph,theadLayout.columns)\r\n\t\t\ttrLayout=new TrLayout(unorderedClassSubgraph,data.classes,theadLayout.columns)\r\n\t\t}\r\n\t\trecomputeLayouts()\r\n\r\n\t\t// TODO put into classSubgraph\r\n\t\tconst breadthWalk=(graph,id)=>{\r\n\t\t\tconst result=[]\r\n\t\t\tconst visited={}\r\n\t\t\tconst queue=[id]\r\n\t\t\twhile (queue.length>0) {\r\n\t\t\t\tid=queue.shift()\r\n\t\t\t\tif (visited[id]) {\r\n\t\t\t\t\tcontinue\r\n\t\t\t\t}\r\n\t\t\t\tvisited[id]=true\r\n\t\t\t\tif (!selectedNodes[id]) {\r\n\t\t\t\t\tresult.push(id)\r\n\t\t\t\t}\r\n\t\t\t\tqueue.push(...Object.keys(graph[id]).sort())\r\n\t\t\t}\r\n\t\t\treturn result\r\n\t\t}\r\n\t\tconst writeButton=(text,tip)=>{\r\n\t\t\tconst $button=$(`<button type='button'><span>${text}</span></button>`)\r\n\t\t\tif (tip!==undefined) {\r\n\t\t\t\t$button.attr('title',tip)\r\n\t\t\t}\r\n\t\t\treturn $button\r\n\t\t}\r\n\t\tconst writeTraitItemSection=(type,contents)=>{\r\n\t\t\tconst $section=$(`<div class='${type}'>`).append(contents.map(line=>{\r\n\t\t\t\tif (type=='title') {\r\n\t\t\t\t\treturn $(`<div><em>${line}</em>:</div>`)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn $(`<div>${line}</div>`)\r\n\t\t\t\t}\r\n\t\t\t}))\r\n\t\t\tif (type=='detail') {\r\n\t\t\t\tconst $b1=writeButton(\"Open\",\"Expand details\")\r\n\t\t\t\tconst $b2=writeButton(\"Open\",\"Expand details\")\r\n\t\t\t\t$section.prepend($b1).append($b2)\r\n\t\t\t\tconst $bs=$b1.add($b2)\r\n\t\t\t\t$bs.click(function(){\r\n\t\t\t\t\tif (!$section.hasClass('open')) {\r\n\t\t\t\t\t\t$section.addClass('open')\r\n\t\t\t\t\t\t$bs.html(\"<span>Close</span>\").attr('title',\"Collapse details\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$section.removeClass('open')\r\n\t\t\t\t\t\t$bs.html(\"<span>Open</span>\").attr('title',\"Expand details\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn $section\r\n\t\t}\r\n\t\tconst writeTraitItem=(forClassId,fromClassId,traitId)=>{\r\n\t\t\tconst item=data.classes[fromClassId].traits[traitId]\r\n\t\t\tconst sections=[]\r\n\t\t\titem.forEach(section=>{\r\n\t\t\t\tconst type=section[0], contents=section[1]\r\n\t\t\t\tif (type=='form' && forClassId!=fromClassId) {\r\n\t\t\t\t\tsections.push(writeTraitItemSection('note',[\r\n\t\t\t\t\t\t\"when equation is written as <em>\"+getHtmlName(fromClassId)+\"</em>:\",\r\n\t\t\t\t\t\t\"\\\\[\"+data.classes[fromClassId].equation+\"\\\\]\",\r\n\t\t\t\t\t]))\r\n\t\t\t\t} else if (contents) {\r\n\t\t\t\t\tsections.push(writeTraitItemSection(type,contents))\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tif (sections.length>0 && item[0][0]!='title') {\r\n\t\t\t\tsections.unshift(writeTraitItemSection('title',[\r\n\t\t\t\t\t(item[item.length-1][0]=='compare'\r\n\t\t\t\t\t\t? \"Property comparable to <em>\"+i18n('trait.'+traitId)+\"</em>\"\r\n\t\t\t\t\t\t: i18n('trait.'+traitId)\r\n\t\t\t\t\t)\r\n\t\t\t\t]))\r\n\t\t\t}\r\n\t\t\tif (sections.length>0) {\r\n\t\t\t\treturn $(\"<div class='trait'>\").append(sections)\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst writeTraitCell=(forClassId,traitCell)=>{\r\n\t\t\tconst $cell=$(\"<td>\")\r\n\t\t\tif (traitCell.length>0) {\r\n\t\t\t\t$cell.append(traitCell.map(classTraitId=>{\r\n\t\t\t\t\tconst classId=classTraitId[0]\r\n\t\t\t\t\tconst traitId=classTraitId[1]\r\n\t\t\t\t\treturn writeTraitItem(forClassId,classId,traitId)\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t\treturn $cell\r\n\t\t}\r\n\t\tconst writeTraitRow=(traitSubtree)=>{\r\n\t\t\tconst traitCells=trLayout.getSubtreeLayout(traitSubtree)\r\n\t\t\tif (!traitCells) return null\r\n\t\t\treturn $(\"<tr>\").append(traitCells.map(\r\n\t\t\t\t(traitCell,i)=>writeTraitCell(theadLayout.columns[i],traitCell)\r\n\t\t\t))\r\n\t\t}\r\n\t\tconst writeTable=()=>{\r\n\t\t\tconst visibleAncestors={} // including self\r\n\t\t\tconst computeVisibleAncestors=(id,aid)=>{\r\n\t\t\t\tvisibleAncestors[id][aid]=true\r\n\t\t\t\tfor (let naid in unorderedClassSubgraph.visibleParents[aid]) {\r\n\t\t\t\t\tcomputeVisibleAncestors(id,naid)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let id in selectedNodes) {\r\n\t\t\t\tvisibleAncestors[id]={}\r\n\t\t\t\tcomputeVisibleAncestors(id,id)\r\n\t\t\t}\r\n\r\n\t\t\tconst $equations={}\r\n\t\t\tlet $attachedMenu, $attachedToButton, attachedDirection, attachTimeoutId\r\n\r\n\t\t\tconst deleteNode=id=>{\r\n\t\t\t\tdelete selectedNodes[id]\r\n\t\t\t\trecomputeLayouts()\r\n\t\t\t\twriteTable()\r\n\t\t\t}\r\n\t\t\tconst addNode=id=>{\r\n\t\t\t\tselectedNodes[id]=true\r\n\t\t\t\trecomputeLayouts()\r\n\t\t\t\twriteTable()\r\n\t\t\t}\r\n\t\t\tconst setCellClasses=($cell,cell)=>{\r\n\t\t\t\t;['b','t','bt','rl','rt','bl'].forEach(dir=>{\r\n\t\t\t\t\tif (cell[dir]) {\r\n\t\t\t\t\t\t$cell.addClass(dir)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tconst writeTheadButton=($cell,text,tip,dir,nodes)=>{\r\n\t\t\t\tconst keyCodeEnter=13\r\n\t\t\t\tconst keyCodeSpace=32\r\n\t\t\t\tconst keyCodeUp=38\r\n\t\t\t\tconst keyCodeDown=40\r\n\t\t\t\tconst $button=writeButton(text,tip).addClass(dir).click(function(){\r\n\t\t\t\t\tconst removeAttachedMenu=()=>{\r\n\t\t\t\t\t\t$attachedToButton.removeClass('attached-t attached-b')\r\n\t\t\t\t\t\t$attachedMenu.remove()\r\n\t\t\t\t\t\tclearTimeout(attachTimeoutId)\r\n\t\t\t\t\t\t$attachedToButton=undefined\r\n\t\t\t\t\t\t$attachedMenu=undefined\r\n\t\t\t\t\t\tattachedDirection=undefined\r\n\t\t\t\t\t\tattachTimeoutId=undefined\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst startAttachingMenu=()=>{\r\n\t\t\t\t\t\t$attachedToButton=$button\r\n\t\t\t\t\t\t$attachedMenu=$(\"<ul>\").append(nodes.map(\r\n\t\t\t\t\t\t\tid=>$(\"<li tabindex='0'>\"+data.classes[id].name+\"</li>\").click(function(){\r\n\t\t\t\t\t\t\t\taddNode(id)\r\n\t\t\t\t\t\t\t}).keydown(function(ev){\r\n\t\t\t\t\t\t\t\tif (!attachedDirection) return // not yet decided on attach direction (this can't happen)\r\n\t\t\t\t\t\t\t\tif (ev.keyCode==keyCodeUp) {\r\n\t\t\t\t\t\t\t\t\tconst $toFocus=$(this).prev()\r\n\t\t\t\t\t\t\t\t\tif ($toFocus.length) {\r\n\t\t\t\t\t\t\t\t\t\t$toFocus.focus()\r\n\t\t\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t\t\t} else if (attachedDirection=='b') {\r\n\t\t\t\t\t\t\t\t\t\t$button.focus()\r\n\t\t\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if (ev.keyCode==keyCodeDown) {\r\n\t\t\t\t\t\t\t\t\tconst $toFocus=$(this).next()\r\n\t\t\t\t\t\t\t\t\tif ($toFocus.length) {\r\n\t\t\t\t\t\t\t\t\t\t$toFocus.focus()\r\n\t\t\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t\t\t} else if (attachedDirection=='t') {\r\n\t\t\t\t\t\t\t\t\t\t$button.focus()\r\n\t\t\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if (ev.keyCode==keyCodeEnter || ev.keyCode==keyCodeSpace) {\r\n\t\t\t\t\t\t\t\t\taddNode(id)\r\n\t\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t\t$cell.append($attachedMenu)\r\n\t\t\t\t\t\tattachTimeoutId=setTimeout(()=>{ // can calculate height only after it's displayed\r\n\t\t\t\t\t\t\tconst mh=$attachedMenu.outerHeight()\r\n\t\t\t\t\t\t\tconst mo=$attachedMenu.offset()\r\n\t\t\t\t\t\t\tconst bh=$button.outerHeight()\r\n\t\t\t\t\t\t\tconst bo=$button.offset()\r\n\t\t\t\t\t\t\tlet t=bo.top-mh+1\r\n\t\t\t\t\t\t\tif (dir!='t' || t<0) { // want below or doesn't fit to screen above the button\r\n\t\t\t\t\t\t\t\tt=bo.top+bh-1\r\n\t\t\t\t\t\t\t\tattachedDirection='b'\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$attachedMenu.insertBefore($button)\r\n\t\t\t\t\t\t\t\tattachedDirection='t'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$attachedMenu.offset({\r\n\t\t\t\t\t\t\t\ttop: t,\r\n\t\t\t\t\t\t\t\tleft: mo.left,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t$attachedMenu.addClass('attached')\r\n\t\t\t\t\t\t\t$button.addClass('attached-'+attachedDirection)\r\n\t\t\t\t\t\t},0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!$button.is($attachedToButton)) {\r\n\t\t\t\t\t\tif ($attachedToButton) {\r\n\t\t\t\t\t\t\tremoveAttachedMenu() // close menu opened elsewhere\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstartAttachingMenu()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tremoveAttachedMenu() // close menu here\r\n\t\t\t\t\t}\r\n\t\t\t\t}).keydown(function(ev){\r\n\t\t\t\t\tif ($button.is($attachedToButton)) {\r\n\t\t\t\t\t\tif (ev.keyCode==keyCodeUp && attachedDirection=='t') {\r\n\t\t\t\t\t\t\t$attachedMenu.children().last().focus()\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t} else if (ev.keyCode==keyCodeDown && attachedDirection=='b') {\r\n\t\t\t\t\t\t\t$attachedMenu.children().first().focus()\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn $button\r\n\t\t\t}\r\n\t\t\tconst writeTheadCell=cell=>{\r\n\t\t\t\tconst $cell=$(\"<th>\")\r\n\t\t\t\tsetCellClasses($cell,cell)\r\n\t\t\t\tif (cell.node!==undefined) {\r\n\t\t\t\t\t$cell.append(getHtmlName(cell.node))\r\n\t\t\t\t\tconst ancestors=breadthWalk(unorderedClassSubgraph.allParents,cell.node).reverse()\r\n\t\t\t\t\tif (ancestors.length>0) {\r\n\t\t\t\t\t\t$cell.append(\r\n\t\t\t\t\t\t\t\" \",\r\n\t\t\t\t\t\t\twriteTheadButton($cell,\"Add ancestor\",\"Add one of supertypes of this equation type\",'t',ancestors)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst descendants=breadthWalk(unorderedClassSubgraph.allChildren,cell.node)\r\n\t\t\t\t\tif (descendants.length>0) {\r\n\t\t\t\t\t\t$cell.append(\r\n\t\t\t\t\t\t\t\" \",\r\n\t\t\t\t\t\t\twriteTheadButton($cell,\"Add descendant\",\"Add one of subtypes of this equation type\",'b',descendants)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn $cell\r\n\t\t\t}\r\n\t\t\tconst writeThead=()=>{\r\n\t\t\t\tconst $thead=$(\"<thead>\")\r\n\t\t\t\tfor (let i=0;i<theadLayout.nodeLayers.length;i++) {\r\n\t\t\t\t\t$thead.append(\r\n\t\t\t\t\t\t$(\"<tr class='nodes'>\").append(\r\n\t\t\t\t\t\t\ttheadLayout.nodeLayers[i].map(writeTheadCell)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\tif (i<theadLayout.arcLayers.length) {\r\n\t\t\t\t\t\t$thead.append(\r\n\t\t\t\t\t\t\ttheadLayout.arcLayers[i].map(row=>$(\"<tr class='arcs'>\").append(\r\n\t\t\t\t\t\t\t\trow.map(cell=>{\r\n\t\t\t\t\t\t\t\t\tconst $cell=$(\"<th>\")\r\n\t\t\t\t\t\t\t\t\tsetCellClasses($cell,cell)\r\n\t\t\t\t\t\t\t\t\treturn $cell\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn $thead\r\n\t\t\t}\r\n\t\t\tconst writeTfoot=()=>{\r\n\t\t\t\tif (theadLayout.columns.length<=1) {\r\n\t\t\t\t\treturn $()\r\n\t\t\t\t}\r\n\t\t\t\treturn $(\"<tfoot>\").append(\r\n\t\t\t\t\t$(\"<tr>\").append(\r\n\t\t\t\t\t\ttheadLayout.columns.map(id=>$(\"<td>\").append(\r\n\t\t\t\t\t\t\twriteButton(\"Delete\",\"Delete this equation type\").click(function(){\r\n\t\t\t\t\t\t\t\tdeleteNode(id)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tconst writeTraitRows=()=>{\r\n\t\t\t\tconst output=[]\r\n\t\t\t\tconst rec=(traitSubtree,depth)=>{\r\n\t\t\t\t\tconst traitId=traitSubtree[0]\r\n\t\t\t\t\tconst traitChildren=traitSubtree[1]\r\n\t\t\t\t\tif (depth>=traitAlignmentLevel || !traitChildren) {\r\n\t\t\t\t\t\toutput.push(writeTraitRow(traitSubtree))\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttraitChildren.forEach(traitChild=>rec(traitChild,depth+1))\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\trec(['root',data.traits],0)\r\n\t\t\t\treturn output\r\n\t\t\t}\r\n\t\t\tconst writeTraitAlignmentControls=()=>{\r\n\t\t\t\tconst $container=$(\"<form>Trait alignment level:</form>\")\r\n\t\t\t\tfor (let i=0;i<=maxTraitAlignmentLevel;i++) {\r\n\t\t\t\t\t$container.append(\r\n\t\t\t\t\t\t\" \",\r\n\t\t\t\t\t\t$(\"<label>\").append(\r\n\t\t\t\t\t\t\t$(\"<input type='radio' name='trait-alignment-level'>\").prop('checked',i==traitAlignmentLevel).click(function(){\r\n\t\t\t\t\t\t\t\ttraitAlignmentLevel=i\r\n\t\t\t\t\t\t\t\twriteTable()\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\" \"+i\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\treturn $container\r\n\t\t\t}\r\n\t\t\tconst writeEquation=(id)=>{\r\n\t\t\t\t$equations[id]=$(\"<div class='equation'>\").append(\"\\\\[\"+data.classes[id].equation+\"\\\\]\")\r\n\t\t\t\tif (data.classes[id].vectorEquation) {\r\n\t\t\t\t\t$equations[id].append(\"<div class='alt-separator'>or in vector format</div>\",\"\\\\[\"+data.classes[id].vectorEquation+\"\\\\]\")\r\n\t\t\t\t}\r\n\t\t\t\t$equations[id].hover(function(){\r\n\t\t\t\t\tfor (let aid in visibleAncestors[id]) {\r\n\t\t\t\t\t\t$equations[aid].addClass('highlight')\r\n\t\t\t\t\t}\r\n\t\t\t\t},function(){\r\n\t\t\t\t\tfor (let aid in visibleAncestors[id]) {\r\n\t\t\t\t\t\t$equations[aid].removeClass('highlight')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn $equations[id]\r\n\t\t\t}\r\n\t\t\t$container.empty().append(\r\n\t\t\t\t$(\"<table>\").append(\r\n\t\t\t\t\twriteThead(),\r\n\t\t\t\t\twriteTfoot(),\r\n\t\t\t\t\t$(\"<tbody>\").append(\r\n\t\t\t\t\t\t$(\"<tr>\").append( // equations\r\n\t\t\t\t\t\t\ttheadLayout.columns.map(id=>{\r\n\t\t\t\t\t\t\t\tconst $td=$(\"<td>\").append(writeEquation(id))\r\n\t\t\t\t\t\t\t\tconst notes=[]\r\n\t\t\t\t\t\t\t\tif (data.classes[id].equationNotes!==undefined) {\r\n\t\t\t\t\t\t\t\t\tnotes.push(...data.classes[id].equationNotes.map(\r\n\t\t\t\t\t\t\t\t\t\tnoteText=>$(\"<div class='note'>\").append(noteText)\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconst columnParents=orderedClassSubgraph.visibleParents[id]\r\n\t\t\t\t\t\t\t\tif (columnParents.length>0) {\r\n\t\t\t\t\t\t\t\t\tnotes.push(\r\n\t\t\t\t\t\t\t\t\t\t$(\"<div class='note'>\").append(\r\n\t\t\t\t\t\t\t\t\t\t\t\"can also be written as and has all properties of:\",\r\n\t\t\t\t\t\t\t\t\t\t\t$(\"<ul>\").append(columnParents.map(pid=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst $li=$(\"<li>\").append(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$(\"<em>\"+getHtmlName(pid)+\"</em>\").hover(function(){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$equations[pid].addClass('highlight')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$li.addClass('highlight')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},function(){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$li.removeClass('highlight')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$equations[pid].removeClass('highlight')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn $li\r\n\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (notes.length>0) {\r\n\t\t\t\t\t\t\t\t\t$td.append($(\"<ul>\").append(notes.map(\r\n\t\t\t\t\t\t\t\t\t\tnote=>$(\"<li>\").append(note)\r\n\t\t\t\t\t\t\t\t\t)))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn $td\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\twriteTraitRows()\r\n\t\t\t\t\t)\r\n\t\t\t\t),\r\n\t\t\t\twriteTraitAlignmentControls(),\r\n\t\t\t\t\"<p>General notes:</p>\",\r\n\t\t\t\t$(\"<ul>\").append(\r\n\t\t\t\t\t`<li>how to read the diagram: <ul>`+\r\n\t\t\t\t\t\t`<li>equation type names are written among arrows that show the relationship between types</li>`+\r\n\t\t\t\t\t\t`<li>properties of an equation type are listed in the table column below its name</li>`+\r\n\t\t\t\t\t\t`<li>every property of the equation type on the tip of the arrow <span class='arrow'></span> is also true for the equation type on the other end of the arrow (like <a href='https://en.wikipedia.org/wiki/Class_diagram'>class diagram</a>)</li>`+\r\n\t\t\t\t\t`</ul></li>`,\r\n\t\t\t\t\t`<li>all functions have to be continuous on the interval of interest</li>`,\r\n\t\t\t\t\t`<li>\\\\( y \\\\), \\\\( y_1 \\\\), \\\\( y_p \\\\) and \\\\( y \\\\) or \\\\( z \\\\) with any other subscript is a function of \\\\( t \\\\); other functions are written with an argument like this: \\\\( f(t) \\\\)</li>`,\r\n\t\t\t\t\t`<li>\\\\( C \\\\), \\\\( K \\\\) and other uppercase letters are arbitrary constants</li>`,\r\n\t\t\t\t\t`<li>\\\\( \\\\int\\\\!f(t)\\\\,\\\\mathrm{d}t + C \\\\) is a family of antiderivatives of \\\\( f(t) \\\\) with parameter \\\\( C \\\\)</li>`,\r\n\t\t\t\t\t`<li>\\\\( \\\\int\\\\!f(t)\\\\,\\\\mathrm{d}t \\\\) is any single antiderivative of \\\\( f(t) \\\\)`\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\tMathJax.Hub.Queue([\"Typeset\",MathJax.Hub]);\r\n\t\t}\r\n\t\twriteTable()\r\n\t})\r\n})\r\n","'use strict'\r\n\r\n// TODO maybe don't need this class - use iterators on unordered subgraph instead?\r\nclass OrderedClassGraph {\r\n\tconstructor(unorderedClassGraph,orderedClasses) {\r\n\t\tconst ranks={}\r\n\t\torderedClasses.forEach((id,i)=>{\r\n\t\t\tranks[id]=i\r\n\t\t})\r\n\t\tthis.visibleParents={}\r\n\t\tfor (let id in unorderedClassGraph.visibleParents) {\r\n\t\t\tthis.visibleParents[id]=Object.keys(unorderedClassGraph.visibleParents[id]).sort((id1,id2)=>ranks[id1]-ranks[id2])\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports=OrderedClassGraph\r\n","'use strict'\r\n\r\nconst makeNodeLabelLayers=require('./thead-layout/node-layers')\r\nconst makeArcLocationLayers=require('./thead-layout/arc-layers')\r\nconst makeLayoutLayers=require('./thead-layout/cell-layers')\r\n\r\nclass TheadLayout {\r\n\tconstructor(unorderedClassGraph) {\r\n\t\tconst orderedVisibleDepthNodes=makeNodeLabelLayers(unorderedClassGraph.visibleParents,unorderedClassGraph.visibleDepthNodes)\r\n\t\tconst arcLocationLayers=makeArcLocationLayers(orderedVisibleDepthNodes,unorderedClassGraph.visibleParents)\r\n\t\tconst t=makeLayoutLayers(orderedVisibleDepthNodes,arcLocationLayers)\r\n\t\tthis.columns=[].concat(...orderedVisibleDepthNodes)\r\n\t\tthis.nodeLayers=t[0]\r\n\t\tthis.arcLayers=t[1]\r\n\t}\r\n}\r\n\r\nmodule.exports=TheadLayout\r\n","'use strict'\r\n\r\nmodule.exports=(depthList,parents)=>{ // TODO would prefer ordered parents list\r\n\tconst merge=(a,b)=>{ // can also use lodash union and sort\r\n\t\tconst c=[]\r\n\t\tlet i=0, j=0\r\n\t\twhile (i<a.length || j<b.length) {\r\n\t\t\tif (j>=b.length) {\r\n\t\t\t\tc.push(a[i++])\r\n\t\t\t} else if (i>=a.length) {\r\n\t\t\t\tc.push(b[j++])\r\n\t\t\t} else if (a[i]<b[j]) {\r\n\t\t\t\tc.push(a[i++])\r\n\t\t\t} else if (a[i]>b[j]) {\r\n\t\t\t\tc.push(b[j++])\r\n\t\t\t} else {\r\n\t\t\t\tc.push(a[i++])\r\n\t\t\t\tj++\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn c\r\n\t}\r\n\tconst arcRows=[]\r\n\tconst xs={}\r\n\tlet x=0\r\n\tfor (let i=0;i<depthList.length;i++) {\r\n\t\tdepthList[i].forEach(node=>{\r\n\t\t\txs[node]=x++\r\n\t\t})\r\n\t\tif (i>0) {\r\n\t\t\tconst arcs=[]\r\n\t\t\tfor (let j=depthList[i].length-1;j>=0;j--) {\r\n\t\t\t\tconst node=depthList[i][j]\r\n\t\t\t\tconst parentXs=Object.keys(parents[node]).map(parentNode=>xs[parentNode]).sort((a,b)=>a-b)\r\n\t\t\t\tarcs.push([parentXs,[xs[node]]])\r\n\t\t\t}\r\n\t\t\tfor (let j=1;j<arcs.length;j++) {\r\n\t\t\t\tif (String(arcs[j-1][0])===String(arcs[j][0])) { // sloppy but should be ok for numbers\r\n\t\t\t\t\tarcs[j-1][1]=merge(arcs[j-1][1],arcs[j][1]) // merge children - parents already merged\r\n\t\t\t\t\tarcs.splice(j,1)\r\n\t\t\t\t\tj-=1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tarcRows.push(arcs)\r\n\t\t}\r\n\t}\r\n\treturn arcRows\r\n}\r\n","'use strict'\r\n\r\n// TODO fake lodash\r\nconst sum=arr=>arr.reduce((a,b)=>a+b)\r\n//const times=(n,fn)=>Array(n).map((v,i)=>fn(i))\r\nconst times=(n,fn)=>{\r\n\tvar arr=Array(n)\r\n\tfor (var i=0;i<n;i++) {\r\n\t\tarr[i]=fn(i)\r\n\t}\r\n\treturn arr\r\n}\r\nconst head=arr=>arr[0]\r\nconst last=arr=>arr[arr.length-1]\r\n\r\nmodule.exports=(nodeLabelLayers,arcLocationLayers)=>{\r\n\tconst layoutWidth=sum(nodeLabelLayers.map(x=>x.length))\r\n\tconst makeBlankRow=()=>times(layoutWidth,()=>({}))\r\n\tconst nodeLayoutLayers=[], arcLayoutLayers=[]\r\n\tconst drawArcUp=(i,j,k)=>{\r\n\t\tfor (;i>=0;i--) {\r\n\t\t\tfor (j-=1;j>=0;j--) {\r\n\t\t\t\tarcLayoutLayers[i][j][k].bt=true\r\n\t\t\t}\r\n\t\t\tif (nodeLayoutLayers[i][k].node!==undefined) {\r\n\t\t\t\tnodeLayoutLayers[i][k].b=true\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tnodeLayoutLayers[i][k].bt=true\r\n\t\t\tif (i<=0) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tj=arcLayoutLayers[i-1].length\r\n\t\t}\r\n\t}\r\n\tconst drawArcDown=(i,j,k)=>{\r\n\t\tfor (j+=1;j<arcLayoutLayers[i].length;j++) {\r\n\t\t\tarcLayoutLayers[i][j][k].bt=true\r\n\t\t}\r\n\t\tnodeLayoutLayers[i+1][k].t=true\r\n\t}\r\n\t// create empty cells\r\n\tfor (let i=0;i<nodeLabelLayers.length;i++) {\r\n\t\tnodeLayoutLayers.push(makeBlankRow())\r\n\t\tif (i>=arcLocationLayers.length) continue\r\n\t\tarcLayoutLayers.push(arcLocationLayers[i].map(makeBlankRow))\r\n\t}\r\n\t// fill cells\r\n\tlet x=0\r\n\tfor (let i=0;i<nodeLabelLayers.length;i++) {\r\n\t\tnodeLabelLayers[i].forEach(node=>{\r\n\t\t\tnodeLayoutLayers[i][x++].node=node\r\n\t\t})\r\n\t\tif (i>=arcLocationLayers.length) continue\r\n\t\tfor (let j=0;j<arcLocationLayers[i].length;j++) {\r\n\t\t\tconst parentLocations=arcLocationLayers[i][j][0]\r\n\t\t\tconst childLocations=arcLocationLayers[i][j][1]\r\n\t\t\tlet pi=0, ci=0\r\n\t\t\tfor (let k=0;k<layoutWidth;k++) {\r\n\t\t\t\tif (k>head(parentLocations) && k<last(childLocations)) {\r\n\t\t\t\t\tarcLayoutLayers[i][j][k].rl=true\r\n\t\t\t\t}\r\n\t\t\t\tif (k==parentLocations[pi]) {\r\n\t\t\t\t\tpi++\r\n\t\t\t\t\tarcLayoutLayers[i][j][k].rt=true\r\n\t\t\t\t\tdrawArcUp(i,j,k)\r\n\t\t\t\t}\r\n\t\t\t\tif (k==childLocations[ci]) {\r\n\t\t\t\t\tci++\r\n\t\t\t\t\tarcLayoutLayers[i][j][k].bl=true\r\n\t\t\t\t\tdrawArcDown(i,j,k)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn [nodeLayoutLayers,arcLayoutLayers]\r\n}\r\n","'use strict'\r\n\r\n// dag = {nodeLabel:{parentLabel:true,...},...}\r\n// nodes = {nodeLabel:true,...}\r\nmodule.exports=(visibleParents,visibleDepthNodes)=>{\r\n\t// sort nodes at each depth by\r\n\t//\tlexicographic parent order\r\n\t//\tlabel\r\n\tconst orderedVisibleDepthNodes=[]\r\n\tlet nextParentOrder=0\r\n\tconst parentOrder={}\r\n\tfor (let depth in visibleDepthNodes) {\r\n\t\torderedVisibleDepthNodes[depth]=Object.keys(visibleDepthNodes[depth])\r\n\t\tconst sortedParents={}\r\n\t\tfor (let node in visibleDepthNodes[depth]) {\r\n\t\t\tsortedParents[node]=Object.keys(visibleParents[node]).map(\r\n\t\t\t\tparentNode=>parentOrder[parentNode]\r\n\t\t\t).sort((a,b)=>a-b)\r\n\t\t}\r\n\t\torderedVisibleDepthNodes[depth].sort((node0,node1)=>{\r\n\t\t\tconst p0=sortedParents[node0]\r\n\t\t\tconst p1=sortedParents[node1]\r\n\t\t\tfor (let i=0;i<p0.length||i<p1.length;i++) {\r\n\t\t\t\tconst cmpLen=(i<p0.length)-(i<p1.length)\r\n\t\t\t\tif (cmpLen!=0) {\r\n\t\t\t\t\treturn cmpLen\r\n\t\t\t\t}\r\n\t\t\t\tconst cmpOrd=p0[i]-p1[i]\r\n\t\t\t\tif (cmpOrd!=0) {\r\n\t\t\t\t\treturn cmpOrd\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (node0<node1) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else if (node0>node1) {\r\n\t\t\t\treturn +1\r\n\t\t\t} else {\r\n\t\t\t\treturn 0\r\n\t\t\t}\r\n\t\t})\r\n\t\torderedVisibleDepthNodes[depth].forEach(node=>{\r\n\t\t\tparentOrder[node]=nextParentOrder++\r\n\t\t})\r\n\t}\r\n\treturn orderedVisibleDepthNodes\r\n}\r\n","'use strict'\r\n\r\nclass TrLayout {\r\n\tconstructor(classSubgraph,classData,classColumns) {\r\n\t\tthis.classSubgraph=classSubgraph\r\n\t\tthis.classData=classData\r\n\t\tthis.classColumns=classColumns\r\n\t}\r\n\r\n\t// returns list of cells: list of (class id, trait id)\r\n\t// \tclass id = which class to take property from\r\n\t// returns null if row is to be skipped\r\n\tgetSubtreeLayout(traitSubtree) {\r\n\t\tconst hasCloseSection=trait=>{\r\n\t\t\treturn trait.some(section=>section[0]=='close')\r\n\t\t}\r\n\t\tconst hasCompareSection=trait=>{\r\n\t\t\treturn trait.some(section=>section[0]=='compare')\r\n\t\t}\r\n\t\tconst ancestorsHaveIntegratedTrait=(classId,traitId)=>{\r\n\t\t\tconst visited={}\r\n\t\t\tconst walk=classId=>{\r\n\t\t\t\tif (visited[classId]) return false\r\n\t\t\t\tvisited[classId]=true\r\n\t\t\t\tif (getIntegratedClassesForTrait(classId,traitId).length>0) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t\tfor (let vpid in this.classSubgraph.visibleParents[classId]) {\r\n\t\t\t\t\tif (walk(vpid)) {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tfor (let vpid in this.classSubgraph.visibleParents[classId]) {\r\n\t\t\t\tif (walk(vpid)) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false\r\n\t\t}\r\n\t\tconst getIntegratedClassesForTrait=(classId,traitId)=>{ // TODO memoize?\r\n\t\t\tconst integratedClassIds=[]\r\n\t\t\tconst visited={}\r\n\t\t\tconst walk=id=>{\r\n\t\t\t\tif (visited[id]) return\r\n\t\t\t\tvisited[id]=true\r\n\t\t\t\tconst trait=this.classData[id].traits[traitId]\r\n\t\t\t\tif (trait) {\r\n\t\t\t\t\tif (!hasCloseSection(trait) || ancestorsHaveIntegratedTrait(classId,traitId)) {\r\n\t\t\t\t\t\tintegratedClassIds.push(id)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tObject.keys(this.classSubgraph.integratedAncestors[classId][id]).sort().forEach(walk)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twalk(classId)\r\n\t\t\treturn integratedClassIds\r\n\t\t}\r\n\r\n\t\tconst cells=this.classColumns.map(classId=>{\r\n\t\t\tconst cell=[]\r\n\t\t\tconst walkTraits=(traitSubtree)=>{\r\n\t\t\t\tconst traitId=traitSubtree[0]\r\n\t\t\t\tconst traitChildren=traitSubtree[1]\r\n\t\t\t\tif (traitChildren) {\r\n\t\t\t\t\ttraitChildren.forEach(walkTraits)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgetIntegratedClassesForTrait(classId,traitId).forEach(id=>{\r\n\t\t\t\t\t\tcell.push([id,traitId])\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twalkTraits(traitSubtree)\r\n\t\t\treturn cell\r\n\t\t})\r\n\r\n\t\t// compared traits filtering\r\n\t\tconst keepTraits={}\r\n\t\tcells.forEach(cell=>cell.forEach(classTraitId=>{\r\n\t\t\tconst classId=classTraitId[0]\r\n\t\t\tconst traitId=classTraitId[1]\r\n\t\t\tconst trait=this.classData[classId].traits[traitId]\r\n\t\t\tif (!hasCompareSection(trait)) {\r\n\t\t\t\tkeepTraits[traitId]=true\r\n\t\t\t}\r\n\t\t}))\r\n\t\tfor (let i=0;i<cells.length;i++) {\r\n\t\t\tcells[i]=cells[i].filter(classTraitId=>{\r\n\t\t\t\tconst traitId=classTraitId[1]\r\n\t\t\t\treturn keepTraits[traitId]\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// empty row detection\r\n\t\tif (cells.some(cell=>cell.length>0)) {\r\n\t\t\treturn cells\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports=TrLayout\r\n","'use strict'\r\n\r\nclass UnorderedClassGraph {\r\n\tconstructor(classData,visibleClasses) {\r\n\t\tconst invertGraph=(graph)=>{\r\n\t\t\tconst igraph={}\r\n\t\t\tfor (let id in graph) {\r\n\t\t\t\tigraph[id]={}\r\n\t\t\t}\r\n\t\t\tfor (let id in graph) {\r\n\t\t\t\tfor (let pid in graph[id]) {\r\n\t\t\t\t\tigraph[pid][id]=true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn igraph\r\n\t\t}\r\n\r\n\t\t// this.allParents and this.allChildren\r\n\t\tthis.allParents={}\r\n\t\tfor (let id in classData) {\r\n\t\t\tthis.allParents[id]=classData[id].parents\r\n\t\t}\r\n\t\tthis.allChildren=invertGraph(this.allParents)\r\n\r\n\t\t// this.visibleParents, this.visibleChildren, this.visibleDepthNodes\r\n\t\tconst ancestorDistances={} // {node:{ancestorNode:distance,...},...}; node is any node, ancestorNode is one of selectedNodes\r\n\t\tconst addAncestorDistance=(fromNode,toNode,distance)=>{\r\n\t\t\tconst oldDistance=ancestorDistances[fromNode][toNode]\r\n\t\t\tconst newDistance=(oldDistance===undefined\r\n\t\t\t\t? distance\r\n\t\t\t\t: Math.max(distance,oldDistance)\r\n\t\t\t)\r\n\t\t\tancestorDistances[fromNode][toNode]=newDistance\r\n\t\t}\r\n\t\tconst traverseNode=node=>{\r\n\t\t\tif (ancestorDistances[node]) {\r\n\t\t\t\treturn // already visited\r\n\t\t\t}\r\n\t\t\tancestorDistances[node]={}\r\n\t\t\tfor (let parentNode in this.allParents[node]) {\r\n\t\t\t\ttraverseNode(parentNode)\r\n\t\t\t\tif (visibleClasses[parentNode]) {\r\n\t\t\t\t\taddAncestorDistance(node,parentNode,1)\r\n\t\t\t\t}\r\n\t\t\t\tfor (let ancestorNode in ancestorDistances[parentNode]) {\r\n\t\t\t\t\tconst parentDistance=ancestorDistances[parentNode][ancestorNode]\r\n\t\t\t\t\taddAncestorDistance(node,ancestorNode,parentDistance+!!visibleClasses[parentNode])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.visibleDepthNodes=[]\r\n\t\tthis.visibleParents={}\r\n\t\tfor (let node in visibleClasses) {\r\n\t\t\ttraverseNode(node)\r\n\t\t\tlet depth=0\r\n\t\t\tthis.visibleParents[node]={}\r\n\t\t\tfor (let ancestorNode in ancestorDistances[node]) {\r\n\t\t\t\tconst distance=ancestorDistances[node][ancestorNode]\r\n\t\t\t\tif (distance>depth) {\r\n\t\t\t\t\tdepth=distance\r\n\t\t\t\t}\r\n\t\t\t\tif (distance==1) {\r\n\t\t\t\t\tthis.visibleParents[node][ancestorNode]=true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.visibleDepthNodes[depth]===undefined) {\r\n\t\t\t\tthis.visibleDepthNodes[depth]={}\r\n\t\t\t}\r\n\t\t\tthis.visibleDepthNodes[depth][node]=true\r\n\t\t}\r\n\t\tthis.visibleChildren=invertGraph(this.visibleParents)\r\n\r\n\t\t// this.integratedAncestors = ancestors that are not (visible parents and/or ancestors of visible parents)\r\n\t\tthis.integratedAncestors={}\r\n\t\tfor (let cid in visibleClasses) {\r\n\t\t\tconst masked={}\r\n\t\t\tconst maskAncestors=id=>{\r\n\t\t\t\tif (masked[id]) return\r\n\t\t\t\tmasked[id]=true\r\n\t\t\t\tfor (let pid in this.allParents[id]) {\r\n\t\t\t\t\tmaskAncestors(pid)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let pid in this.visibleParents[cid]) {\r\n\t\t\t\tmaskAncestors(pid)\r\n\t\t\t}\r\n\t\t\tthis.integratedAncestors[cid]={}\r\n\t\t\tconst integrateAncestors=id=>{\r\n\t\t\t\tif (this.integratedAncestors[cid][id]) return\r\n\t\t\t\tthis.integratedAncestors[cid][id]={}\r\n\t\t\t\tfor (let pid in this.allParents[id]) {\r\n\t\t\t\t\tif (!masked[pid]) {\r\n\t\t\t\t\t\tthis.integratedAncestors[cid][id][pid]=true\r\n\t\t\t\t\t\tintegrateAncestors(pid)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tintegrateAncestors(cid)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports=UnorderedClassGraph\r\n"],"sourceRoot":"."}